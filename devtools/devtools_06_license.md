## Лицензия ПО

Лицензия - это юридический документ, который определяет права и ограничения на использование, распространение и модификацию программного обеспечения

В отличие от материальных объектов, программный код и другая цифровая информация могут быть с легкостью скопированы и использованы для нарушения авторских прав создателя. Для предотвращения этого вместе с программным кодом или исполняемыми файлами поставляются текст лицензии или условия использования

* Защита авторских прав, то есть определение тех, кто владеет кодом
* Определение условий использования, то есть что можно и нельзя делать с ПО
* Защита разработчиков от ответственности
* Коммерциализация, то есть возможность зарабатывать на своем продукте

Без лицензии код технически принадлежит автору, но юридически не определены рамки его использования другими лицами

Важно различать:

* **Авторское право** (копирайт, &copy;, Copyright) защищает выражение идеи, то есть конкретный код
* **Патентное право**  защищает саму идею, метод, алгоритм
* **Товарный знак** (&trade;, Trademark) защищает названия и бренды

Лицензия ПО регулирует в первую очередь авторские права,
но современные лицензии (Apache 2.0, GPLv3) также затрагивают
патентные аспекты

---

Различают 3 типа программного обеспечения: проприетарное ПО, открытое ПО и свободное ПО

### Проприетарное ПО

Проприетарное ПО имеет закрытый исходный код, поставляется в виде исполняемых бинарных файлов, обычно платное и имеет строгие ограничения на использование

Такое ПО имеет собственные лицензионные соглашения (или EULA, End User License Agreement), которые задают правила обычно "только для использования", а изучение кода, модификация, распространение запрещены

Примером проприетарного ПО служат операционные системы Windows и macOS, продукты компании Adobe и другие

Лицензия для проприетарного ПО может выглядеть так:

> УСЛОВИЯ ЛИЦЕНЗИИ НА ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ MICROSOFT  
> ОПЕРАЦИОННАЯ СИСТЕМА WINDOWS  
> ЕСЛИ ВЫ ПРОЖИВАЕТЕ В США (ИЛИ ЕСЛИ ЭТА СТРАНА ЯВЛЯЕТСЯ ВАШИМ ОСНОВНЫМ МЕСТОМ ВЕДЕНИЯ БИЗНЕСА), ОЗНАКОМЬТЕСЬ С ПОЛОЖЕНИЯМИ ОБ ОБЯЗАТЕЛЬНОМ АРБИТРАЖЕ И ОТКАЗЕ ОТ ГРУППОВОГО ИСКА В РАЗДЕЛЕ 11. ЭТО ВЛИЯЕТ НА СПОСОБ РАЗРЕШЕНИЯ СПОРОВ.  
> Благодарим за выбор Microsoft!  
> В зависимости от того, как вы получили программное обеспечение Windows, настоящий документ является лицензионным соглашением между: (i) вами и изготовителем устройства или установщиком программного обеспечения, который распространяет программное обеспечение вместе с вашим устройством; (ii) вами и корпорацией Microsoft (или одним из ее аффилированных лиц — в зависимости от места вашего проживания либо основного места ведения бизнеса), если вы приобрели программное обеспечение у розничного продавца. Корпорация Microsoft является изготовителем устройств, произведенных Microsoft или одним из ее аффилированных лиц, а также розничным продавцом, если программное обеспечение приобретается непосредственно у Microsoft. Если вы являетесь клиентом программы корпоративного лицензирования, использование данного программного обеспечения регулируется условиями вашего корпоративного лицензионного соглашения.  
> ...

### Открытое ПО

Открытое ПО имеет открытый исходный код, который можно изучать, изменять и распространять. Такое ПО обычно распространяется бесплатно (ведь по исходникам можно собрать исполняемый файл), но также есть исключения

Зачастую открытое ПО использует готовые шаблоны лицензий:

* **MIT License** (или X11 License)

    Лицензия MIT была создана в Массачусетском институте технологий и является одной из самых ранних свободных лицензий

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО |  |
    | Распространение |  |  |
    | Частное использование |  |  |

    Лицензию MIT используют платформа .NET и веб-фреймфорк Rails для языка Ruby

    Обычно используется распространенный текст лицензии, написанной для X Window System, а Массачусетский институт написал еще несколько версий лицензий, поэтому Фонд свободного программного обеспечения настоятельно рекомендует использовать название X11 License вместо MIT License

    Лицензия **MIT No Attribution** включает те же разрешения и ограничения, но не принуждает к указанию оригинальных авторов

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности |  |
    | Модификация | Отказ гарантии на ПО |  |
    | Распространение |  |  |
    | Частное использование |  |  |

* BSD License

    Лицензии BSD были созданы в Калифорнийском университете в Беркли для дистрибуции операционной системы BSD (Berkeley Software Distribution)

    Существует несколько вариантов лицензий:

    * **BSD 2-Clause License (Simplified)** имеет те же разрешения и ограничения, что и MIT License

        Текст лицензии содержит 2 пункта: дистрибуция этого кода ПО должна содержать эту лицензию и дистрибуция бинарных файлов этого ПО должна содержать эту лицензию в документации или других материалах

        | ✅Разрешения | ❌Ограничения | ℹ️Условия |
        |--------------|----------------|-----------|
        | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
        | Модификация | Отказ гарантии на ПО |  |
        | Распространение |  |  |
        | Частное использование |  |  |

    * **BSD 3-Clause License (Revised)** схожа с BSD 2-Clause License (Simplified), но содержит третий пункт, который гласит, что имена авторов не могут использоваться для рекламы производных продуктов без их согласия

        | ✅Разрешения | ❌Ограничения | ℹ️Условия |
        |--------------|----------------|-----------|
        | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
        | Модификация | Отказ гарантии на ПО |  |
        | Распространение |  |  |
        | Частное использование |  |  |

    * **BSD Zero Clause License** имеет те же разрешения и ограничения, что и другие лицензии BSD, но не принуждает включение текста лицензии и авторов

        | ✅Разрешения | ❌Ограничения | ℹ️Условия |
        |--------------|----------------|-----------|
        | Коммерческое использование | Отказ разработчиков от ответственности |   |
        | Модификация | Отказ гарантии на ПО |  |
        | Распространение |  |  |
        | Частное использование |  |  |

* **Apache License 2.0**

    Лицензии Apache были созданы фондом Apache Software Foundation (который разработал веб-сервер Apache)

    Сейчас популярна Apache License 2.0, созданная в 2004 году. В 90-х юридическое регулирование ПО было менее развитым и часто противоречивым, поэтому было модно выпускать продукт, код которого реализовывал запатентованную идею, а затем подавать патентный иск на пользователя за использование кода

    Так в 2003 году случился иск группы компании SCO, обвинявший в использовании компании IBM интеллектуальной собственности группы SCO в кодовой базе ОС Linux. Многолетний судебный процесс завершился банкротством SCO Group в 2012 году

    Apache 2.0 решает проблему через принцип взаимности:

    1. Контрибьютор, вносящий код, автоматически предоставляет 
    патентную лицензию всем пользователям своего кода
    2. Если пользователь подаёт патентный иск против контрибьютора,
    он теряет эту патентную лицензию
    3. Защита распространяется только на патенты, необходимые
    для использования именно этого кода

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному коду должны быть задокументированы |
    | Распространение | Отказ на предоставление прав на товарный знак |  |
    | Частное использование |  |  |
    | Патентное использование |  |  |

    Лицензию Apache используют платформа для автоматизации Kubernetes, язык программирования Swift и ОС Android

### Свободное ПО

Для борьбы с патентными троллями в далеких 1980-годах Ричард Столлман основал Фонд свободного программного обеспечения и проект GNU, целью которого было создание с нуля Unix-подобной системы без использования проприетарного кода

Тогда Столлман формулирует 4 свободы ПО:

> Свобода запускать программу в любых целях (свобода 0).  
> Свобода изучения работы программы и адаптация её к вашим нуждам (свобода 1). Доступ к исходным текстам является необходимым условием.  
> Свобода распространять копии, так что вы можете помочь вашему товарищу (свобода 2).  
> Свобода улучшать программу и публиковать ваши улучшения, так что всё общество выиграет от этого (свобода 3). Доступ к исходным текстам является необходимым условием.

И понятие "копилефт" (copyleft): если код был лицензирован под копилефтной лицензией, то производные от него продукты должны быть лицензированы под той же или совместимой с ней лицензией

Сейчас распространены две версии свободных лицензий:

* **GNU General Public License v2.0**

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному коду должны быть задокументированы |
    | Распространение |  | Раскрытие исходного кода при распространении |
    | Частное использование |  | Модификации распространяются под лицензией, подобной этой |

    Ядро Linux использует GNU GPLv2 без возможности обновления до GPLv3 

* **GNU General Public License v3.0**

    Отличия третьей версии GPL от второй заключались в двух ограничениях:

    * Запрет на тивоизацию (от названия линейки видеоплееров TiVo) - встроенной в АО защиты для предотвращения запуска модифицированного ПО, распространяемого под этой лицензией, на исходной аппаратной системе; тогда было распространено создавать дешевые и дорогие модели, отличавшиеся только программно 

    * GPLv3 содержит более сильную патентную защиту, чем Apache 2.0: любой, кто распространяет GPLv3-программу, автоматически предоставляет патентную лицензию всем получателям; если вы подаёте патентный иск за использование GPLv3-кода, вы полностью теряете права на использование этого кода

    Apache License 2.0 и GPLv3 совместимы: код под Apache 2.0 можно 
    использовать в GPLv3 проекте (тогда он становится лицензируемым под GPLv3), но не наоборот

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному коду должны быть задокументированы |
    | Распространение |  | Раскрытие исходного кода при распространении |
    | Частное использование |  | Модификации распространяются под лицензией, подобной этой |
    | Патентное использование |  |  |

    Лицензию GPLv3 использует коллекция компиляторов GNU Compiler Collection

Помимо General Public License существуют:

* **GNU Lesser General Public License v3.0**

    Изначально называлась GNU Library General Public License и создана для стандартной библиотеки C, входившей в GNU Compiler Collection

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному коду должны быть задокументированы |
    | Распространение |  | Раскрытие исходного кода при распространении |
    | Частное использование |  | Модификации только этой библиотеки распространяются под лицензией, подобной этой |
    | Патентное использование |  |  |

* **GNU Affero General Public License v3.0**

    Эта лицензия создана для веб-приложений, передающихся через сеть, поэтому пользователь имеет право получить код приложения, лицензированного под этой лицензией

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному коду должны быть задокументированы |
    | Распространение |  | Раскрытие исходного кода при распространении |
    | Частное использование |  | Модификации распространяются под лицензией, подобной этой |
    | Патентное использование |  | Пользователи, получающие продукт через сеть, имеют право получить исходный код |

### Другие лицензии

Для материалов, не представляющих программный код, популярны лицензии [Creative Commons](https://creativecommons.org/)

* **Creative Commons Zero v1.0 Universal** (CC0) предоставляет отказ от авторских прав на контент и передачу его в общественное достояние

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности |  |
    | Модификация | Отказ гарантии на ПО |  |
    | Распространение | Не касается патентных прав |  |
    | Частное использование | Отказ на предоставление прав на товарный знак |  |

Далее к этой базовой лицензии добавляются условия:

* **Creative Commons Attribution 4.0 International** (CC-BY-4.0) требует упоминание оригинального автора в производных работах

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному контенту должны быть задокументированы |
    | Распространение | Не касается патентных прав |  |
    | Частное использование | Отказ на предоставление прав на товарный знак |  |

    Такую лицензию имеет часть опубликованного контента на YouTube

* **Creative Commons Attribution Share Alike 4.0 International** (CC-BY-SA-4.0) требует помимо упоминания оригинального автора в производных работах также подобной лицензирования производных работ

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Коммерческое использование | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Модификация | Отказ гарантии на ПО | Изменения к лицензированному контенту должны быть задокументированы |
    | Распространение | Не касается патентных прав | Модификации распространяются под лицензией, подобной этой |
    | Частное использование | Отказ на предоставление прав на товарный знак |  |

    Такую лицензию использует Википедия в своих статьях

* **Creative Commons Attribution NonCommercial 4.0 International** (CC-BY-NC-4.0) запрещает коммерческое использование

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Модификация | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Распространение | Отказ гарантии на ПО | Изменения к лицензированному контенту должны быть задокументированы |
    | Частное использование | Не касается патентных прав | Только для некоммерческого использования |
    |  | Отказ на предоставление прав на товарный знак |  |

* **Creative Commons Attribution NoDerivatives 4.0 International** (CC-BY-ND-4.0) запрещает производные работы

    | ✅Разрешения | ❌Ограничения | ℹ️Условия |
    |--------------|----------------|-----------|
    | Распространение | Отказ разработчиков от ответственности | Включение текста этой лицензии и авторов кода |
    | Частное использование | Отказ гарантии на ПО | Изменения к лицензированному контенту должны быть задокументированы |
    |  | Не касается патентных прав | Распространение модификаций запрещено |
    |  | Отказ на предоставление прав на товарный знак |  |
    |  |  |  |

### Какую же выбрать лицензию?

Выбор лицензий является ключевым на раннем этапе создания проекта, так как определяет права и ограничения на использование, распространение и модификацию 

Для того, чтобы выбрать лицензию, могут помочь сайт [https://choosealicense.com/](https://choosealicense.com/) или подобная схема:

![Как выбрать лицензию](./images/devtools_licenses.png)

Для простых учебных проектов подойдет MIT License или GNU GPLv3. Для корпоративных проектов отлично подходит Apache License 2.0 или GNU GPLv3. Если важно сохранить открытость исходников, то GPLv3 или Affero GPL

Важно помнить, что лицензию сменить можно (если лицензия не копилефтная), но предыдущие версии могут распространяться под старой лицензией

Также некоторые лицензии могут содержать несовместимые условия. Так проект с MIT/BSD/Apache лицензией может включать компонент с MIT/BSD/Apache лицензией. Но нельзя:

* Использовать компонент под GPLv2 в проекте под Apache License 2.0 или наоборот, так как Apache License 2.0 гарантирует патентную защиту, а GPLv2 утверждает запрет на добавление других ограничений
* Использовать компонент под GPL (кроме LGPL) в проекте под MIT/BSD/Apache/проприетарной лицензией

Совместимость лицензий можно проверить с помощью утилит [pip-licenses](https://pypi.org/project/pip-licenses/) или [scancode](https://pypi.org/project/scancode-toolkit/)


