# <a name="%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BD%D0%B0-java"></a> –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Java


* [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Java](#%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BD%D0%B0-java)
  * [–õ–µ–∫—Ü–∏—è 1](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-1)
  * [–õ–µ–∫—Ü–∏—è 2](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-2)
  * [–õ–µ–∫—Ü–∏—è 3](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-3)
    * [Apache Ant + Apache Ivy](#apache-ant-%2B-apache-ivy)
    * [Apache Maven](#apache-maven)
    * [Google Gradle](#google-gradle)
  * [–õ–µ–∫—Ü–∏—è 4](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-4)
    * [–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞](#%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0)
    * [–û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞](#%D0%BE%D1%87%D0%B8%D1%81%D1%82%D0%BA%D0%B0-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0)
    * [–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞](#%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D1%81%D0%B1%D0%BE%D1%80%D1%89%D0%B8%D0%BA%D0%BE%D0%B2-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0)
  * [–õ–µ–∫—Ü–∏—è 5](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-5)
    * [Java Database Connectivity](#java-database-connectivity)
    * [Java Persistence API](#java-persistence-api)
  * [–õ–µ–∫—Ü–∏—è 6](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-6)
    * [Spring IoC](#spring-ioc)
  * [–õ–µ–∫—Ü–∏—è 7](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-7)
    * [Spring MVC](#spring-mvc)
  * [–õ–µ–∫—Ü–∏—è 8](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-8)
    * [Spring Boot](#spring-boot)
      * [–°—Ç–∞—Ä—Ç–µ—Ä](#%D1%81%D1%82%D0%B0%D1%80%D1%82%D0%B5%D1%80)
      * [–ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#%D0%B0%D0%B2%D1%82%D0%BE%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F)
      * [Initializr](#initializr)
      * [–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞](#%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0)
      * [–°–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ](#%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D1%8F-%D0%BF%D1%80%D0%B8-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B5)
      * [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
    * [Spring Data JPA](#spring-data-jpa)
  * [–õ–µ–∫—Ü–∏—è 9](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-9)
    * [Spring Security](#spring-security)
  * [–õ–µ–∫—Ü–∏—è 10](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-10)
    * [Spring AOP](#spring-aop)
  * [–õ–µ–∫—Ü–∏—è 11](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-11)
    * [Point-to-Point](#point-to-point)
    * [Publisher-to-Subscriber](#publisher-to-subscriber)
    * [–ì–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å](#%D0%B3%D0%B8%D0%B1%D1%80%D0%B8%D0%B4%D0%BD%D0%B0%D1%8F-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C)
  * [–õ–µ–∫—Ü–∏—è 12](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-12)
    * [Apache Kafka](#apache-kafka)
  * [–õ–µ–∫—Ü–∏—è 13](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-13)
    * [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JMS –≤ Spring](#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-jms-%D0%B2-spring)
  * [–õ–µ–∫—Ü–∏—è 14](#%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-14)
  * [X. –ü—Ä–æ–≥—Ä–∞–º–º–∞ —ç–∫–∑–∞–º–µ–Ω–∞ 2024/2025](#x.-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0-%D1%8D%D0%BA%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0-2024%2F2025)



–≠—Ç–æ—Ç –∫—É—Ä—Å –±—É–¥–µ—Ç –ø—Ä–æ —Ä–∞–±–æ—Ç—É —Å —è–∑—ã–∫–æ–º Java (JVM, –û–û–ü –Ω–∞ Java), —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–æ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏

–ü–µ—Ä–≤—ã–π –º–æ–¥—É–ª—å –±—É–¥–µ—Ç –ø–æ—Å–≤—è—â–µ–Ω –∏–∑—É—á–µ–Ω–∏—é Java (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –Ω–∞ [—Å–∞–π—Ç–µ –ì–µ–æ—Ä–≥–∏—è –ö–æ—Ä–Ω–µ–µ–≤–∞](https://www.kgeorgiy.info/courses/java-advanced)), –≤—Ç–æ—Ä–æ–π –º–æ–¥—É–ª—å - Spring –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º

–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –ª–µ–∫—Ü–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã –∑–¥–µ—Å—å - [https://xrem.github.io/tech/](https://xrem.github.io/tech/)

## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-1"></a> –õ–µ–∫—Ü–∏—è 1

–î–æ —ç—Ç–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è Java —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ –±–æ–ª—å—à–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã, –∫—É—à–∞—é—â–∏–µ –ø–µ—Ä—Ñ–æ–∫–∞—Ä—Ç—ã; –¥–∞–ª–µ–µ –ø–æ—è–≤–∏–ª–∏—Å—å —Ç–∞–∫–∏–µ –¥—Ä–µ–≤–Ω–∏–µ —è–∑—ã–∫–∏, –∫–∞–∫ FORTRAN, BASIC –∏ –¥—Ä—É–≥–∏–µ

–û—Å–Ω–æ–≤–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –Ω–∏ –æ–¥–∏–Ω –∏–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ —Ç–µ –≤—Ä–µ–º–µ–Ω–∞ –Ø–ü –Ω–µ –º–æ–≥ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—Å–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

* –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
* –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
* —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
* —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
* —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

–ü–µ—Ä–≤—ã–π —Ç–∞–∫–∏–º —è–∑—ã–∫–æ–º —Å—Ç–∞–ª C - –æ–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—è–≥, —Ç–æ–≥–¥–∞ –∫–∞–∫ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ —è–∑—ã–∫–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö

–ü–æ—Ç–æ–º –ø–æ—è–≤–∏–ª—Å—è C++, –æ–±—ä–µ–¥–∏–Ω–∏–≤—à–∏–π –≤ —Å–µ–±–µ –û–û–ü, –æ–¥–Ω–∞–∫–æ C++ - –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-–∑–∞–≤–∏—Å–∏–º—ã–π —è–∑—ã–∫

–ö 90-—ã–º –≥–æ–¥–∞–º —Å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –ø–æ—è–≤–∏–ª–∏—Å—å —Ä–∞–∑–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –° —ç—Ç–∏–º –ø–æ—è–≤–∏–ª–∞—Å—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Å—Ç–∞–¥–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä. –í–≤–µ–ª–∏ —Ç–µ—Ä–º–∏–Ω—ã managed code (—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥) –∏ unmanaged code (–Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥). –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–æ–π. 

–í Java –∫–æ–¥ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ –±–∞–π—Ç-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç—Å—è –≤ –º–∞—à–∏–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Java Virtual Machine (JVM). –ü—Ä–∏ —ç—Ç–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ Java-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Ç–∞–∫–∂–µ –Ω–µ –Ω—É–∂–Ω–æ, –∫–∞–∫ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ C-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É ([\*—Ç—ã–∫\*](https://habr.com/ru/post/568402))

Java Runtime Environment (JRE) - —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è Java, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–ª–∞—Å—Å–æ–≤, –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤ –∏ —Ç. –¥.

Java Development Kit (JDK) - —Å—Ä–µ–¥—Å—Ç–≤–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ Java

JVM —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

* —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ - –Ω–∞–±–æ—Ä–æ–º –ø—Ä–∞–≤–∏–ª, –¥–∏–∫—Ç—É—é—â–∏—Ö, –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ JVM. "JVM –¥–æ–ª–∂–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ Java"

* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ - —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –ø–æ–∑–≤–æ–ª—è—Ç—å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ Java

* —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ - –æ–±–æ–ª–æ—á–∫–∏ –Ω–∞–¥ –≤–∞—à–∏–º –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ—Ç –∏ –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ —Ç–æ–º, –∫–∞–∫ –æ–Ω–∞ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –Ω–∞ Java:

```java
package ru.butenko.springdatatest; // –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

import java.time.LocalDate;

public class Dog {
    public String name;
    private LocalDate birthdate;

    public int calculateAge() {
        return LocalDate.now().getYear() - this.birthdate.getYear();
    }
}
```

–í –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–∏–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞), –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–ª–∞—Å—Å –∏–∑ —Ñ–∞–π–ª–∞ `.java` –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ –±–∞–π—Ç-–∫–æ–¥ `.class`

–¢–∞–∫–∂–µ –≤ Java –µ—Å—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, Queue, Deque –∏ –¥—Ä—É–≥–∏–µ ([\*—Ç—ã–∫\*](https://javarush.com/groups/posts/1937-klass-collections))

–û—à–∏–±–∫–∏ –≤ Java –¥–µ–ª—è—Ç—Å—è –Ω–∞ 2 —Ç–∏–ø–∞:

* `___Error` - –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å JVM

* `___Excetion` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–∞–±–æ—Ç–æ–π –∫–æ–¥–∞

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã, —Ç–æ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –º–µ—Ç–æ–¥–∞:

```java
    public void Do() throws Exception {
        ...
    }
```

–¢–∞–∫–∂–µ —Ö–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤:

```java
import java.time.LocalDate;

/**
 * –ö–ª–∞—Å—Å "–°–æ–±–∞–∫–∞"üê∂
 */
public class Dog {
    public String name;
    private LocalDate birthdate;

    /**
     * –ú–µ—Ç–æ–¥, –≤—ã—á–∏—Å–ª—è—é—â–∏–π –≤–æ–∑—Ä–∞—Å—Ç —Å–æ–±–∞–∫–∏
     * 
     * @return int –≤–æ–∑—Ä–∞—Å—Ç —Å–æ–±–∞–∫–∏
     */
    public int calculateAge() {
        return LocalDate.now().getYear() - this.birthdate.getYear();
    }

    /**
     * –ú–µ—Ç–æ–¥, –¥–∞—é—â–∏–π —Å–æ–±–∞–∫–µ –Ω–æ–≤–æ–µ –∏–º—è
     * 
     * @param String –Ω–æ–≤–æ–µ –∏–º—è —Å–æ–±–∞–∫–∏
     */
    public void setName(String newName) {
        name = newName;
    }

    /**
     * –ú–µ—Ç–æ–¥, –≤—ã—á–∏—Å–ª—è—é—â–∏–π –≤–æ–∑—Ä–∞—Å—Ç —Å–æ–±–∞–∫–∏
     * 
     * @throws Exception –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
     */
    public void DoException() throws Exception {
        throw new Exception("Yay!");
    }
}
```


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-2"></a> –õ–µ–∫—Ü–∏—è 2

–°–µ–π—á–∞—Å –≤–µ—Ä—Å–∏–µ–π —Å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è Java 21

–†–∞–∑–±–µ—Ä–µ–º—Å—è –≤ –∏–∑–¥–∞–Ω–∏—è—Ö Java:

* Java Platform Standard Edition (Java SE) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–¥–∞–∫—Ü–∏—è Java, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

* Java Platform Enterprise Edition ([Java EE](https://en.wikipedia.org/wiki/Jakarta_EE)) - —Ä–µ–¥–∞–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π

* Java Platform Micro Edition (Java ME) - —Ä–µ–¥–∞–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö, –º–æ–±–∏–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —Ç.–¥.

–ö–æ–º–∏—Ç–µ—Ç [Java Community Process](https://ru.wikipedia.org/wiki/Java_Community_Process) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –±—É–¥—É—â–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Java

---

–ö–ª–∞—Å—Å—ã –≤ Java –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –ø–∞–∫–µ—Ç—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Java —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞–∫–µ—Ç—ã `java.lang`, `java.io`, `java.util` –∏ –¥—Ä—É–≥–∏–µ. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–∞–∫–µ—Ç—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏ –∏–º–µ–Ω.

–í Java –≤—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ Java Collections Framework –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ [`java.util.Collection`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html). –°–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `java.util.Collection` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `java.util.Iterable`, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

–í Java –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `ArrayList` (—Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –ø–æ –∏–Ω–¥–µ–∫—Å—É) –∏ `LinkedList` (—Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø–æ–º)

`Vector` –≤ Java —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ `ArrayList`, –Ω–æ `Vector` –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π. –¢–∞–∫–∂–µ `Vector` —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –≤–¥–≤–æ–µ, –∞ `ArrayList` –≤ 1,5 —Ä–∞–∑–∞

–ü–æ–º–∏–º–æ –Ω–∏—Ö –µ—Å—Ç—å:

* `Stack` - —Å—Ç–µ–∫, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ `Vector` 

* `Queue` - –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å

* `Deque` - –¥–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å

* `Set` - –º–Ω–æ–∂–µ—Å—Ç–≤–æ; —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ `HashSet` –∏ –Ω–∞ –¥–µ—Ä–µ–≤–µ `TreeSet`

* `Map` - —Å–ª–æ–≤–∞—Ä—å; —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ `HashMap` –∏ –Ω–∞ –¥–µ—Ä–µ–≤–µ `TreeMap`

–í `java.util.concurrent` —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π

![–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π](images/javatech_collections.png)

–ü–æ–º–∏–º–æ Java Collections Framework –¥—Ä—É–≥–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ Google Guava –∏ Apache Commons Collections, —Ä–µ–∞–ª–∏–∑—É—é—Ç —Å–≤–æ–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

–ß—Ç–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –≤ Java –µ—Å—Ç—å Stream API. –†–∞–±–æ—Ç–∞–µ—Ç –æ–Ω –∫–∞–∫ LINQ –≤ C#:

1. –°–æ–∑–¥–∞–µ–º –ø–æ—Ç–æ–∫ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: `list.stream()`

2. –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `filter()`, `map()`, `sorted()`

3. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä, `count()`, `findFirst()`, `toList()`

–ü—Ä–∏–º–µ—Ä:

```java 
list
    .stream()
    .filter(x -> x.toString().length() == 3)
    .forEach(System.out::println);

list.stream().forEach(x -> System.out.println(x));
```



## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-3"></a> –õ–µ–∫—Ü–∏—è 3

–ü–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Å–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑—ã–≤–∞—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø—Ä–æ–µ–∫—Ç–æ–º. –í–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –ø–æ–Ω–∞–¥–æ–±–∏–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –Ω–∞—Ö–æ–¥–∏–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Å–∫–∞—á–∏–≤–∞–ª–∞ –∏—Ö, –ø—Ä–æ–≥–æ–Ω—è–ª–∞ —Ç–µ—Å—Ç—ã –∏ –¥–µ–ø–ª–æ–∏–ª–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

–í –Ω–∞—á–∞–ª–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–ª–∏—á–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —Å–±–æ—Ä–∫–∏ –±—ã–ª Make, –ø–æ–∑–¥–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∏—Å—å –±–æ–ª–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–±–æ—Ä–∫–∏. –°–µ–π—á–∞—Å –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å 3 –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∫–∏ –¥–ª—è Java:

* Apache Ant –∏ Apache Ivy
* Apache Maven
* Google Gradle

### <a name="apache-ant-%2B-apache-ivy"></a> Apache Ant + Apache Ivy

Ant –≤—ã—à–µ–ª –≤ 2000 –∏ –±—ã–ª –ø–µ—Ä–≤—ã–º —Å—Ä–µ–¥–∏ "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö" –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–±–æ—Ä–∫–∏. –î–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏ Ant –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–∞–ø–∏—Å–∞–Ω–Ω—É—é –≤ `build.xml`:

```xml
<project>
    <target name="clean">
        <delete dir="classes"/>
    </target>

    <target name="compile" depends="clean">
        <mkdir dir="classes"/>
        <javac srcdir="src" destdir="classes"/>
    </target>

    <target name="jar" depends="compile">
        <mkdir dir="jar"/>
        <jar destfile="jar/HelloWorld.jar" basedir="classes">
            <manifest>
                <attribute name="Main-Class"
                  value="antExample.HelloWorld"/>
            </manifest>
        </jar>
    </target>

    <target name="run" depends="jar">
        <java jar="jar/HelloWorld.jar" fork.="true">
    </target>
</project>
```

–ü–æ–∑–¥–Ω–µ–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –ø–æ—è–≤–∏–ª—Å—è Apache Ivy. Ivy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏—Ö.

–í–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ Ant –¥–µ–ª–∞–µ—Ç 4 –≤–µ—â–∏ (—Ñ–∞–∑—ã, —Ü–µ–ª–∏):

* clean - –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤ —Å–±–æ—Ä–∫–∏
* compile - –∫–æ–º–ø–∏–ª—è—Ü–∏—è 
* jar - —É–ø–∞–∫–æ–≤–∫–∞ –≤ jar –∞—Ä—Ö–∏–≤
* run - –∑–∞–ø—É—Å–∫ JVM

### <a name="apache-maven"></a> Apache Maven

Maven –≤—ã—à–µ–ª –≤ 2004 –∏ —Å—Ç–∞–ª –ø—Ä–µ–µ–º–Ω–∏–∫–æ–º Ant –∏ Ivy, —Å–æ—á–µ—Ç–∞—è –≤ —Å–µ–±–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. Maven —É–º–µ–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π [Maven Central](https://mvnrepository.com/)

–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç Apache Ant, Maven —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:

```
project
 |_ src
 |   |_ main
 |   |   |_ java
 |   |   |_ resources
 |   |_ test
 |       |_ java
 |       |_ resources
 |_ target
 |_ pom.xml
```

–£–ø—Ä–∞–≤–ª—è—Ç—å —Å–±–æ—Ä–∫–æ–π –≤ Maven –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é `pom.xml` —Ñ–∞–π–ª–∞ (Project Object Model). –í –Ω–µ–π

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.O"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.O.O
    http://maven.apache.org/xsd/maven-4.O.O.xsd">

    <modelVersion>4.0.0</modelVersion>

    <groupId>example.com</groupId>
    <artifactId>example</artifactId>

    <version>1.0-SNAPSHOT</version>

    <dependencies>
        <dependency>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
            <version>2.6</version>
        </dependency>
    </dependencies>
</project>
```

–¢–µ–≥ `modelVersion` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–µ—Ä—Å–∏—é Maven, —Ç–µ–≥–∏ `groupld`, `artifactId`, `version` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –≤–µ—Ä—Å–∏—é –Ω–∞—à–µ–≥–æ –∞—Ä—Ç–∏—Ñ–∞–∫—Ç–∞ (–∞—Ä—Ç–∏—Ñ–∞–∫—Ç–æ–º –±—É–¥–µ–º –Ω–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º–æ–¥—É–ª—å, –±–∏–±–ª–∏–æ—Ç–µ–º—É, jar-—Ñ–∞–π–ª –∏ –ø—Ä–æ—á–µ–µ). –í —Ç–µ–≥–µ `dependencies` –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ —É–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ Maven Central

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –≤ Maven –ø—Ä–∏–¥—É–º–∞–ª–∏ –∞—Ä—Ö–µ—Ç–∏–ø—ã - —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤. –° –ø–æ–º–æ—â—å—é –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫, –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞ –∏ —Ç.–¥.. –ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ä—Ö–µ—Ç–∏–ø—ã, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `mvn archetype:generate`

–¢–∞–∫ –∂–µ –∫–∞–∫ –∏ Ant, Maven –æ–±–ª–∞–¥–∞–µ—Ç —Å–≤–æ–∏–º –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

| –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ                                                                         |
| -------- | ---------------------------------------------------------------------------------------- |
| validate | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ |
| compile  | –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤                                                        |
| test     | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö         |
| package  | –£–ø–∞–∫–æ–≤–∫–∞ –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤–∏–¥–∞ jar, zip –∏ —Ç.–¥.                         |
| verify   | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤                                                    |
| install  | –ö–æ–º–º–∏—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π             |
| deploy   | –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏–ª–∏ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π    |

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø–ª–∞–≥–∏–Ω–æ–≤. –ü–ª–∞–≥–∏–Ω—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è `pom.xml`:

```xml
<plugins>
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>2.6</version>
    </plugin>
</plugins>
```

### <a name="google-gradle"></a> Google Gradle

Google Gradle –±—ã–ª –≤—ã–ø—É—â–µ–Ω –≤ 2008 –≥–æ–¥—É –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Android. –í–º–µ—Å—Ç–æ –≥—Ä–æ–º–æ–∑–¥–∫–æ–≥–æ XML —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ Gradle –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —è–∑—ã–∫–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏: –ø—Ä–µ–¥–º–µ—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏ **Groovy** –∏ **Kotlin**.

–í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Gradle –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Ivy, Maven Central –∏ –¥—Ä—É–≥–∏–µ.

–¢–∞–∫ –∫–∞–∫ Gradle –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç Gradle Wrapper: —Å–∫—Ä–∏–ø—Ç `grablew` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é Gradle, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑–∞–Ω–∞ –≤ `build.gradle`. –°–∞–º `build.gradle`, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ, –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```groovy
plugins {
    id 'application'
}

repositories {
    mavenCentral ( )
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'

    implementation 'com.google.guava:guava:31.1-jre'
}

application {
    mainClass = 'demo.–ê—Ä—Ä'
}

tasks.named('test') {
    useJUnitPlatform()
}
```

–ò–ª–∏ –∂–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `build.gradle.kts`, –≥–¥–µ —É–∫–∞–∑–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ, —Ç–æ–ª—å–∫–æ –Ω–∞ Kotlin:


```kotlin
plugins {
    application
}

repositories {
    mavenCentral ( )
}

dependencies {
    testImplementation("org.junit.jupiter:junit-jupiter:5.9.1")

    implementation("com.google.guava:guava:31.1-jre")
}

application {
    mainClass.set("demo.–ê—Ä—Ä")
}

tasks.named<Test>("test") {
    useJUnitPlatform()
}
```

–ö–∞–∫ –∏ Maven, Gradle –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–ª–∞–≥–∏–Ω—ã –∏ –∏–º–µ–µ—Ç –ø–æ—Ö–æ–∂–∏–π —Ü–∏–∫–ª —Å–±–æ—Ä–∫–∏


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-4"></a> –õ–µ–∫—Ü–∏—è 4

–°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ - –ø—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—É—Ç–µ–º —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

–í —Ç–∞–∫–∏—Ö —è–∑—ã–∫–∞—Ö, –∫–∞–∫ C –∏ C++, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å–∞–º –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä–µ–∫—Ç–æ–≤. –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –∫–æ–Ω—Ü–µ –µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è, —Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏:

```cpp
void foo() {
    // –≤—ã–¥–µ–ª–∏–ª–∏ –ø–∞–º—è—Ç—å –¥–ª—è 100 —Å–∏–º–≤–æ–ª–æ–≤
    char* array = new char[100];

    // –≤—ã–¥–µ–ª–∏–ª–∏ –ø–∞–º—è—Ç—å –µ—â–µ —Ä–∞–∑, –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª–∏ —Å—Ç–∞—Ä—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å, 
    // —Ç–µ —Å–∞–º—ã–º –ø–æ—Ç–µ—Ä—è–≤ –∫ —Å—Ç–∞—Ä–æ–º—É –º–∞—Å—Å–∏–≤—É –¥–æ—Å—Ç—É–ø 
    array = new char[100];
}
```

–ß—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –∂–∏–∑–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—Å—é –µ–≥–æ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –ø—Ä–∏–¥—É–º–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

–í Java –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ä–µ–¥–∞ JVM. JVM –ø–æ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ –≤—ã–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–∞–º—è—Ç–∏ –Ω–∞ –∫—É—á–µ, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º, –∏ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å–±–æ—Ä–∫–æ–π –º—É—Å–æ—Ä–∞, —Ç–æ –µ—Å—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ —É–∂–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ (Garbage Collector) —Å—Ç–æ—è—Ç 2 –∑–∞–¥–∞—á–∏:

* –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞
* –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞

–ú—É—Å–æ—Ä–æ–º –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É—Ç—Ä–∞—á–µ–Ω—ã, —Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω

### <a name="%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0"></a> –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞

–ï—Å—Ç—å 2 —Å–ø–æ—Å–æ–±–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –º—É—Å–æ—Ä:

* –°—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (Reference counting)
* –¢—Ä–µ–π—Å–∏–Ω–≥ (Tracing)

–°—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç. –ï—Å–ª–∏ —á–∏—Å–ª–æ —Å—Å—ã–ª–æ–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 0, —Ç–æ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è (–ø–æ–¥–æ–±–Ω–æ `shared_ptr` –≤ –°++). –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É, —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –ø–ª–æ—Ö–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –Ω–µ –º–æ–∂–µ—Ç –≤—ã—è–≤–ª—è—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ (–æ–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ => —Å—á–µ—Ç—á–∏–∫–∏ –Ω–µ –Ω—É–ª–µ–≤—ã–µ)

–¢—Ä–µ–π—Å–∏–Ω–≥ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –≥—Ä–∞—Ñ–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –µ–≥–æ –æ–±—Ö–æ–¥–∞. –î–ª—è –Ω–∞—á–∞–ª–∞ –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–Ω—è—Ç–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–æ—á–∫–∏ (GC Root). –ö–æ—Ä–Ω–µ–≤–æ–π —Ç–æ—á–∫–æ–π –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –ø–æ—Ç–æ–∫–∏, —Å—Å—ã–ª–∫–∏ –∏–∑ Java Native Interface –∏ —Ç.–¥.. –ó–∞—Ç–µ–º —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–µ—Ä–µ–≤–æ —Å—Å—ã–ª–æ–∫. –ú—É—Å–æ—Ä–æ–º —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ—Ç –æ–±—ä–µ–∫—Ç, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–ª—å–∑—è –ø–æ–ø–∞—Å—Ç—å –∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö —Ç–æ—á–µ–∫.

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–Ω–∞–µ—Ç, –∫–æ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–∫–æ—É–ø, –≤ –∫–æ—Ç–æ—Ä–æ–º –∂–∏–≤–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å–∫–æ—É–ø–∞ (—Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏, —Ü–∏–∫–ª–∞ –∏ —Ç.–¥.) –∫–æ—Ä–Ω–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç —Å–≤–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–µ—Ö, —á—Ç–æ –±—ã–ª–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–µ–π). –ü—Ä–∏–º–µ—Ä:

```java
public House doSomething(string[] args) {
    Person person = new Person("Ivan");

    person.setHouse(new House());
    person.getHouse().setRoof(new Roof());
    person.getHouse().setDoor(new Door());

    Person person1 = new Person("Michael");
    Person person2 = new Person("John");
    person1.setFriend(person2);
    person2.setFriend(person1);

    return person;
}
```

–ü–æ–ª—É—á–∞–µ–º —Ç–∞–∫–æ–π –ª–µ—Å –æ–±—ä–µ–∫—Ç–æ–≤:

```
 person     
  |- house
      |- roof
      |- door

 person1
  |- person2
      |- ...

 person2
  |- person1
      |- ...
```

–ü–æ—Å–ª–µ `return` –æ–±—ä–µ–∫—Ç `person` –æ—Å—Ç–∞–µ—Ç—Å—è –∂–∏—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –±—ã–ª –≤–æ–∑–≤—Ä–∞—â–µ–Ω, –∞ `person1` –∏ `person2` - –Ω–µ—Ç. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫ –Ω–∞ –Ω–∏—Ö –Ω–µ–Ω—É–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö —Ç–æ—á–µ–∫ –≤ –Ω–∏—Ö –ø–æ–ø–∞—Å—Ç—å –º—ã –Ω–µ –º–æ–∂–µ–º (–∞ —Ç–∞–∫–æ–≤—ã–º –æ–Ω–∏ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –ø–æ—Å–ª–µ `return`)

### <a name="%D0%BE%D1%87%D0%B8%D1%81%D1%82%D0%BA%D0%B0-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0"></a> –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞

–û—Ç —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ –±—ã –æ–Ω:

* –∑–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–∞–ª —Å–≤–æ—é —Ä–∞–±–æ—Ç—É (Latency and Responsiveness)
* –Ω–µ –ø–æ—Ç—Ä–µ–±–ª—è–ª –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (Memory Footprint)
* –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (Throughput)

–î–æ–±–∏—Ç—å—Å—è –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Å–≤–æ–π—Å—Ç–≤ –Ω–µ—Ä–µ–∞–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É —Ç–æ, —á—Ç–æ —Å–µ–π—á–∞—Å –µ—Å—Ç—å - —ç—Ç–æ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –º–µ–∂–¥—É –Ω–∏–º–∏

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ—á–∏—Å—Ç–∫–∏ –º—É—Å–æ—Ä–∞. –û–¥–∏–Ω –∏–∑ –Ω–∏—Ö - –∫–æ–ø–∏—Ä—É—é—â–∞—è —Å–±–æ—Ä–∫–∞

–î–ª—è –∫–æ–ø–∏—Ä—É—é—â–µ–π —Å–±–æ—Ä–∫–∏ –ø–∞–º—è—Ç—å —É—Å–ª–æ–≤–Ω–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏: **from-space** –∏ **to-space**. –°–Ω–∞—á–∞–ª–∞ –æ–±—ä–µ–∫—Ç—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ from-space. –ö–æ–≥–¥–∞ –æ–Ω–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç stop-the-world (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏—Ä–∞), —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ –æ–±—ä–µ–∫—Ç–∞–º, –∫–æ–ø–∏—Ä—É–µ—Ç –Ω—É–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ to-space, –∞ –Ω–µ–Ω—É–∂–Ω—ã–µ –≤—ã—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ from-space –∏ to-space –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏ (—Å–≤–∞–ø–∞—é—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª–∏)

Stop-the-world –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤–æ –≤—Ä–µ–º—è –æ—á–∏—Å—Ç–∫–∏ –Ω–µ –≤—ã–¥–µ–ª–∏—Ç—Å—è –ø–∞–º—è—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Ç–µ–º —Å–∞–º—ã–º –≥—Ä–∞—Ñ –æ–±—ä–µ–∫—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–º–æ—Ä–æ–∂–µ–Ω

–î—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–æ–º —è–≤–ª—è–µ—Ç—Å—è "–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞" (Mark and Sweep). –ü—Ä–∏ –ø–æ–º–æ—â–∏ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –ø–æ–º–µ—á–∞–µ—Ç –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –≤–æ –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∏—Ä–∞ –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º –∏ —É–¥–∞–ª—è–µ—Ç —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –ø–æ–º–µ—á–µ–Ω—ã –∂–∏–≤—ã–º–∏. –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –ø–æ –≤—Å–µ–π –ø–∞–º—è—Ç–∏, —Ç–µ–º —Å–∞–º—ã–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä—É—è –µ–µ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ (—Ç–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞–∑—ã–≤–∞—é—Ç Mark and Sweep Compact): —Å–¥–≤–∏–≥ –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ. –ó–∞–º–µ—Ç–∏–º, —á—Ç–æ –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è - –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.

–ï—â–µ –æ–¥–∏–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π "—Å–ª–∞–±–æ–π –≥–∏–ø–æ—Ç–µ–∑–µ –æ –ø–æ–∫–æ–ª–µ–Ω–∏—è—Ö". –í –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –æ–±—ä–µ–∫—Ç—ã –ª–∏–±–æ –∂–∏–≤—É—Ç –æ—á–µ–Ω—å –º–∞–ª–æ, –ª–∏–±–æ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ, –ø—Ä–∏—á–µ–º —á–∞—â–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –ø–æ—á—Ç–∏ –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–∑ –¥—Ä—É–≥–æ–π. 

–ë—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å, —á—Ç–æ –±—ã—Å—Ç—Ä–æ–∂–∏–≤—É—â–∏–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –º–ª–∞–¥—à–µ–º—É –ø–æ–∫–æ–ª–µ–Ω–∏—é (young generation), –∞ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ - —Å—Ç–∞—Ä—à–µ–º—É –ø–æ–∫–æ–ª–µ–Ω–∏—é (old generation). –ù–∞–±–ª—é–¥–µ–Ω–∏—è –ø—Ä–∏–≤–µ–ª–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –º–ª–∞–¥—à–µ–º—É –ø–æ–∫–æ–ª–µ–Ω–∏—é (–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç.–¥.), —Ç–æ–≥–¥–∞ –∫–∞–∫ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å—Ç–∞—Ä—à–µ–º—É –ø–æ–∫–æ–ª–µ–Ω–∏—é, —Ç–æ –Ω–µ–Ω—É–∂–Ω—ã–º –æ–Ω –±—É–¥–µ—Ç —Å–æ–≤—Å–µ–º –Ω–µ —Å–∫–æ—Ä–æ.

–ü–æ—ç—Ç–æ–º—É –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Å–¥–µ–ª–∞—Ç—å —Ç—Ä–∏ —Ç–∏–ø–∞ –æ—á–∏—Å—Ç–∫–∏: 

* minor - –æ—á–∏—Å—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ –º–ª–∞–¥—à–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è
* major - –æ—á–∏—Å—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ —Å—Ç–∞—Ä—à–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è
* full - –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤

–°—Ä–∞–∑—É –æ–≥–æ–≤–æ—Ä–∏–º—Å—è, —á—Ç–æ –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ HotSpot JVM. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞.

–¢–æ–≥–¥–∞ –º—ã –º–æ–∂–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞—à—É –ø–∞–º—è—Ç—å –Ω–∞ 3 —á–∞—Å—Ç–∏:

* –≠–¥–µ–º (Eden) - –∑–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
* –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤—ã–∂–∏–≤—à–∏—Ö (Survivor Space) - –∑–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã, –≤—ã–∂–∏–≤—à–∏–µ –æ–¥–Ω—É –æ—á–∏—Å—Ç–∫—É –º—É—Å–æ—Ä–∞ –∏ –ø–µ—Ä–µ—à–µ–¥—à–∏–µ —Å—é–¥–∞ –∏–∑ –≠–¥–µ–º–∞. Survivor Space –¥–µ–ª–∏—Ç—Å—è –Ω–∞ 2 —á–∞—Å—Ç–∏, S0 –∏ S1, –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–ø–∏—Ä—É—é—â–∞—è —Å–±–æ—Ä–∫–∞
* –•—Ä–∞–Ω–∏–ª–∏—â–µ (Tenured) - –∑–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã —Å—Ç–∞—Ä—à–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è

–î–æ Java 8 –ø–∞–º—è—Ç—å JVM –≤—ã–≥–ª—è–¥–µ–ª–∞ —Ç–∞–∫:

![picture](images/javatech_2025_02_28_1.png)

–ü–æ–º–∏–º–æ –≤—ã—à–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ –æ–±–ª–∞—Å—Ç—å PermGen - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ. –¢–∞–º —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –∫–ª–∞—Å—Å–∞—Ö, –∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª–∞—Å—å –æ–Ω–∞ –Ω–∞ —Å—Ç–µ–∫–µ. –° Java 8 —ç—Ç—É –æ–±–ª–∞—Å—Ç—å —Ä–µ—à–∏–ª–∏ –Ω–∞–∑–≤–∞—Ç—å MetaSpace –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –∫—É—á—É

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, Minor —Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–µ—Ö –ø–æ—Ä, –∫–∞–∫ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≠–¥–µ–º. –ò–∑ –≠–¥–µ–º –≤—ã–∂–∏–≤—à–∏–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –≤ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤—ã–∂–∏–≤—à–∏—Ö. –í Major —Å–±–æ—Ä–∫–µ –æ—á–∏—â–∞–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

–°–±–æ—Ä—â–∏–∫–∏ –º—É—Å–æ—Ä–∞, –æ—Å–Ω–æ–≤—ã–≤–∞—é—â–∏–µ—Å—è –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏—è—Ö, –Ω–∞–∑—ã–≤–∞—é—Ç Generational Garbage Collector

### <a name="%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D1%81%D0%B1%D0%BE%D1%80%D1%89%D0%B8%D0%BA%D0%BE%D0%B2-%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0"></a> –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞

–†–∞–∑–±–µ—Ä–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞ –∏–∑ HotSpot JVM

**Serial GC**

–ü—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–π —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –¥–ª—è –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UseSerialGC` –≤ JVM

**Parallel GC**

–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–∞—Ö, –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UseParallelGC`

**CMS GC**

Concurrent Mark and Sweep —Å–±–æ—Ä—â–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ Parallel GC, —Ç–æ–ª—å–∫–æ —Å–≤–æ–¥–∏—Ç—Å—è –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∏—Ä–∞ –∫ –º–∏–Ω–∏–º—É–º—É –∑–∞—Å—á–µ—Ç –±–æ–ª—å—à–µ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –¶–ü. CMS GC –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UseConcMarkSweepGC`

**G1 GC**

Garbage 1st GC —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ CMS GC, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏—è, –ø–∞–º—è—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –Ω–∞–±–æ—Ä –æ–±–ª–∞—Å—Ç–µ–π, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –º–ª–∞–¥—à–µ–µ –ª–∏–±–æ —Å—Ç–∞—Ä—à–µ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Minecraftüëç. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UseG1GC`

**Epsilon GC**

–°–æ–≤—Å–µ–º –Ω–∏—á–µ –Ω–µ —É–º–µ–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—É—Å–æ—Ä–∞ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –Ω–µ—Ç. –°–¥–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–∞–º—è—Ç—å –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UnlockExperimentalVMOptions -XX:UseEpsilonGC`

**Shenandoah GC**

–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ G1 GC, —Ç–æ–ª—å–∫–æ —Å –º–µ–Ω—å—à–∏–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –∏ –±–æ–ª—å—à–∏–º–∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏ –Ω–∞ –¶–ü. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UnlockExperimentalVMOptions -XX:UseShenandoahGC`

**ZGC**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –∫–æ–≥–¥–∞ –µ—Å—Ç—å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –æ–≥—Ä–æ–º–Ω–æ–º –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–æ–π, –∞ –Ω–µ –Ω–∞ —Ç–æ—Å—Ç–µ—Ä–µ. –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `-XX:UnlockExperimentalVMOptions -XX:UseZGC`

---

–í —Ü–µ–ª–æ–º, –≤—ã–±–æ—Ä —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–±–æ–ª—å—à–æ–µ, —Ç–æ –ª—É—á—à–µ –ø—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—éüëç


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-5"></a> –õ–µ–∫—Ü–∏—è 5

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —É—Ä–æ–≤–Ω–µ–π:

* –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π
* –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π
* —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

–î–ª—è —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

* Java Database Connectivity API (JDBC API) - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –¥–∞–Ω–Ω—ã—Ö. –¢–∏–ø–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JDBC ‚Äî –Ω–∞–ø–∏—Å–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
* Java Persistence API - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—ä–µ–∫—Ç—ã —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Java –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –ì–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ API –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å JDBC.
* Java Transaction API - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –≤–∫–ª—é—á–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ö—Ä–∞–Ω–∏–ª–∏—â –¥–∞–Ω–Ω—ã—Ö.

### <a name="java-database-connectivity"></a> Java Database Connectivity

JDBC –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä –¥—Ä–∞–π–≤–µ—Ä–æ–≤:

```java
Connection conn = DriverManager.getConnection(
    "jdbc:mysql://localhost:3306/db_name",
    "user", "password");
```

`DriverManager` —Å–∞–º –≤—ã–±–µ—Ä–µ—Ç –Ω—É–∂–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `mysql`)

![JDBC](images/jdbc_structure.png)

–ß—Ç–æ–±—ã —Å–∞–º –∫–ª–∞—Å—Å –Ω—É–∂–Ω–æ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞ –ø–æ—è–≤–∏–ª—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```xml
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-java</artifactId>
    <version>8.0.29</version>
</dependency>

```

```kotlin
dependencies {
    implementation('mysql:mysql-connector-java:8.0.29')
}
```

<!-- kotlin supremacy -->

–ò—Å–ø–æ–ª—å–∑—É—è JDBC, —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å—ã—Ä—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤: 

```java
try (Connection conn = DriverManager.getConnection(
        "jdbc:mysql://localhost:3306/db_name", "user", "password");
     Statement stmt = conn.createStatement()) {
    
    // SELECT-–∑–∞–ø—Ä–æ—Å
    ResultSet rs = stmt.executeQuery("SELECT * FROM users");

    // –í—ã–≤–æ–¥–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    while (rs.next()) {
        System.out.println(rs.getInt("id"));
        System.out.println(rs.getString("name"));
    }

    // INSERT-–∑–∞–ø—Ä–æ—Å
    int rows = stmt.executeUpdate("INSERT INTO users (name) VALUES ('John')");
    System.out.println("–î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: " + rows);
} catch (SQLException e) {
    e.printStackTrace();
}
```

–í—Å–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:

* –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ SELECT –∏ –¥—Ä—É–≥–∏–µ
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ INSERT, UPDATE, DELETE –∏ –¥—Ä—É–≥–∏–µ

–î–ª—è –ø–µ—Ä–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `executeQuery()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ResultSet`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –¥–∞–Ω–Ω—ã–µ

–î–ª—è –≤—Ç–æ—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `executeUpdate()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫

–ü—Ä–∏ –ø–æ–º–æ—â–∏ JDBC –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–∏–º—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤–Ω—É—Ç—Ä–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```java
CallableStatement callableStatement =
    connection.prepareCall("{call calculateStatistics(?, ?)}",
        ResultSet.TYPE_FORWARD_ONLY,
        ResultSet.CONCUR_READ_ONLY,
        ResultSet.CLOSE_CURSORS_OVER_COMMIT
    );
```

–¢–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –µ—Å—Ç—å –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –ø–∞–º—è—Ç–∏

–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ–±—ä—è–≤–∏–≤ DataSource:

```java
OracleDataSource Ods = new OracleDataSource();

ods.setUser("stud");
ods.setPassword("stud");
ods.setDriverType("thin");
ods.setDatabaseName("stud");
ods.setServerName("localhost");
ods.setPortNumber(1521);

Connection conn = ods.getConnection();
```

–ú–µ—Ç–æ–¥—ã –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –¥—Ä–∞–π–≤–µ—Ä–∞ –∫ –¥—Ä–∞–π–≤–µ—Ä—É

–ó–¥–µ—Å—å `thin` - —Ç–∏–ø –¥—Ä–∞–π–≤–µ—Ä–∞. –í—Å–µ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç 4 —Ç–∏–ø–∞:

* –ü–µ—Ä–≤—ã–π —Ç–∏–ø (Type-1) –∏–ª–∏ JDBC-ODBC bridge driver
* –í—Ç–æ—Ä–æ–π —Ç–∏–ø (Type-2) –∏–ª–∏ Native-API driver
* –¢—Ä–µ—Ç–∏–π —Ç–∏–ø (Type-3) –∏–ª–∏ Network Protocol driver
* –ß–µ—Ç–≤–µ—Ä—Ç—ã–π —Ç–∏–ø (Type-4) –∏–ª–∏ Thin driver

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –æ–¥–Ω–æ–º—É —Ç–∏–ø—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –¥—Ä–∞–π–≤–µ—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è Type-4.  
–ï—Å–ª–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç–∏–ø–∞–º –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, Type-3 —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –¥—Ä–∞–π–≤–µ—Ä–æ–º.  
–î—Ä–∞–π–≤–µ—Ä—ã Type-2 –ø–æ–ª–µ–∑–Ω—ã –≤ —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –∫–æ–≥–¥–∞ –¥—Ä–∞–π–≤–µ—Ä Type-3 –∏–ª–∏ Type-4 –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
–î—Ä–∞–π–≤–µ—Ä Type-1 –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–ó–∞—á–∞—Å—Ç—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è JDBC –Ω–µ—É–¥–æ–±–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ö–∞—Ä–¥–∫–æ–¥–æ–º, –∞ Java-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –Ω–µ –∑–Ω–∞—Ç—å SQL. –ü–æ—ç—Ç–æ–º—É –ø–æ—è–≤–∏–ª—Å—è JPA

### <a name="java-persistence-api"></a> Java Persistence API

Java Persistence API - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º Java –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ. –°–∞–º–∞ Java –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ JPA, –æ–¥–Ω–∞–∫–æ –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –¥–∞–Ω–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π. 

–ó–∞–º–µ—Ç–∏–º, —á—Ç–æ JPA - —ç—Ç–æ –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Java-–æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Object-Relational-Model-—Å–∏—Å—Ç–µ–º), –Ω–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö.

Hibernate - –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π JPA –≤–µ—Ä—Å–∏–∏ 2.1. –î–∞–ª–µ–µ –±—É–¥–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –µ–µ,
–∫–∞–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é JPA

–ß—Ç–æ–±—ã –æ–±—ä—è–≤–∏—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å, –æ–±—ä—è–≤–∏–º –µ–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Entity`

```java
@Entity
// —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º, –∏–∑ –∫–∞–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å—É—â–Ω–æ—Å—Ç—å
@Table(name = "users")
public class User {
    // –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ id - —ç—Ç–æ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–∞–º
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    // —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∏–º—è —Å—Ç–æ–ª–±—Ü–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –∞—Ç—Ä–∏–±—É—Ç–∞
    @Column(name = "user_name")
    private String name;

    // —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É
    @ManyToOne
    @JoinColumn(name = "countries")
    private Country country;
    
    // –≥–µ—Ç—Ç–µ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã, –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
}
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, Hibernate –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å —Å—É—â–µ—Å—Ç–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∏—Ö –∏–º–µ–Ω–∞–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥—è camelCase –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–æ–≤ –≤ snake_case –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)

–î–∞–ª–µ–µ —Å—É—â–Ω–æ—Å—Ç–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π –µ–¥–∏–Ω–∏—Ü–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (persistence unit) –≤ —Ñ–∞–π–ª–µ `resources/META-INF/persistence.xml`:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.2"
             xmlns="http://xmlns.jcp.org/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence
     http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd">

    <!-- –ó–¥–µ—Å—å myunit - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Å—É—â–Ω–æ—Å—Ç–µ–π -->
    <persistence-unit name="myunit">
        <description>
            –û–ø–∏—Å–∞–Ω–∏–µ
        </description>

        <!-- –ó–¥–µ—Å—å –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ -->
        <class>org.example.models.User</class>

        <properties>
            <!-- –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
            <!-- –ó–¥–µ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –°–£–ë–î PostgreSQL –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∏–º–µ–Ω–µ–º cats, –Ω–∞—Ö–æ–¥—è—â–∞—è—Å—è –Ω–∞ localhost -->
            <property name="hibernate.connection.driver_class" value="org.postgresql.Driver" />
            <property name="hibernate.connection.url" value="jdbc:postgresql://localhost:5432/cast" />
            <property name="hibernate.connection.username" value="${POSTGRES_USERNAME}" />
            <property name="hibernate.connection.password" value="${POSTGRES_PASSWORD}" />

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ -->
            <property name="hibernate.hbm2ddl.auto" value="X" />
            <!-- –í–º–µ—Å—Ç–æ X –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
                validate - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–±—ä–µ–∫—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏, –Ω–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
                update - –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ö–µ–º—É —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
                create - —Å–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É, —É–¥–∞–ª—è—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
                create-drop - —Å–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É, —É–¥–∞–ª—è—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ, –∞ —Ç–∞–∫–∂–µ —É–¥–∞–ª—è–µ—Ç —Å—Ö–µ–º—É –∫ –∫–æ–Ω—Ü—É —Å–µ—Å—Å–∏–∏
            -->
        </properties>
    </persistence-unit>
</persistence>
```

–ê —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç `EntityManager`:

```java
// –°–æ–∑–¥–∞–µ–º EntityManager
EntityManagerFactory emf = Persistence.createEntityManagerFactory("myunit");
EntityManager em = emf.createEntityManager();

// –ü–æ–∏—Å–∫ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
User user = em.find(User.class, 1L);
System.out.println(user.getName());

// JPQL-–∑–∞–ø—Ä–æ—Å
TypedQuery<User> query = em.createQuery(
    "SELECT u FROM User u WHERE u.name LIKE 'A%'", User.class);
List<User> users = query.getResultList();

// –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é
em.close();
```

–°—É—â–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–µ–Ω–Ω—ã–µ –≤ JPA, –∏–º–µ—é—Ç —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

* –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç - –æ–±—ä–µ–∫—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é `new`, –Ω–æ –µ—â–µ –Ω–µ –∏–º–µ–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á–µ–π –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
* –£–¥–∞–ª–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç - –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
* –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç - –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA
* –û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç - –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA

![–°–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ JPA](images/jpa_object_states.png)



## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-6"></a> –õ–µ–∫—Ü–∏—è 6

Spring Framework (–∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ Spring) ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è Java-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

Spring —è–≤–ª—è–µ—Ç—Å—è —Å–æ–±–æ–π —Å–≤–æ–±–æ–¥–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π Java EE (–∏–ª–∏ Jakarta EE), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è enterprise-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. Spring –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (MVC, Data –∏ —Ç.–¥.) –∏ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º

<!-- —Ä–∞–Ω—å—à–µ Spring –±—ã–ª –¥–ª—è Java EE, –Ω–æ —Ç–µ–ø–µ—Ä—å –¥–ª—è –≤–æ—ã=—â–∞–æ–µ–∫—Ç–∏—à–æ–∏—à–∞—â—Ä–æ—â–∫—Ä–∏–∞—â—à—Ä–∫—â–ø—Ä—â -->

### <a name="spring-ioc"></a> Spring IoC

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é Spring —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Inversion of Control (–∏–Ω–≤–µ—Ä—Å–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è). –û–Ω –Ω—É–∂–µ–Ω –¥–ª—è: 

* —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–æ–≤
* —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∏—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π

–ü–æ —Å—É—Ç–∏, —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ Dependency Injection –≤ C#

–°–∞–º–∏ –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–µ—â–µ –Ω–∞–∑—ã–≤–∞–µ–º–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º), –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è **–±–∏–Ω–∞–º–∏** (bean)

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Spring, –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –º–∞–≥–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä–æ—á–∫–∞–º–∏:

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
        <version>5.3.30</version>
    </dependency>
</dependencies>
```

```kotlin
dependencies {
    implementation('org.springframework:spring-context:5.3.30')
}
```

–ó–∞–≤–∏—Å–∏–º—ã–π –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∑–∞–≤–∏—Å—è—â–µ–º—É:

* –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
* —á–µ—Ä–µ–∑ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —Å–µ—Ç—Ç–µ—Ä–∞ –∏–ª–∏ —Å–≤–æ–π—Å—Ç–≤–∞)

–ß—Ç–æ–±—ã Spring –ø–æ–Ω—è–ª, –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã —Å—Ç–∞—Ç—å –±–∏–Ω–∞–º–∏ –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∏–Ω–≤–µ—Ä—Å–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏—Ö –Ω—É–∂–Ω–æ

* —É–∫–∞–∑–∞—Ç—å –≤ xml-–∫–æ–Ω—Ñ–∏–≥–µ `context.xml`
* –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —É–∫–∞–∑–∞—Ç—å –ø–∞–∫–µ—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è
* –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —É–∫–∞–∑–∞—Ç—å –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ø–æ—Å–æ–±, –≤–∫–ª—é—á–∞—é—â–∏–π –≤ —Å–µ–±—è xml-–∫–æ–Ω—Ñ–∏–≥. –°–æ–∑–¥–∞–¥–∏–º –¥–≤–µ —Å—É—â–Ω–æ—Å—Ç–∏ - `UserRepository` –∏ `UserService`:

```java
public class UserRepository {
    public String getData() {
        return "–î–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è";
    }
}
```

```java
public class UserService {
    private final UserRepository userRepository;

    private String endpoint;

    public void setEndpoint(String endpoint) { this.endpoint = endpoint; }
    public String getEndpoint() { return this.endpoint; }
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    public void processData() {
        System.out.println("–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö: " + userRepository.getData());
    }
}
```

–î–∞–ª–µ–µ –∑–∞–ø–æ–ª–Ω—è–µ–º –Ω–∞—à `context.xml`:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∏–Ω –¥–ª—è UserRepository -->
    <bean id="userRepository" class="UserRepository"/>
    
    <!-- –°–æ–∑–¥–∞–µ–º –±–∏–Ω UserService —Å –∏–Ω—ä–µ–∫—Ü–∏–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä -->
    <bean id="userService" class="org.example.models.UserService">
        <constructor-arg ref="userRepository"/>

        <!-- –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ -->
        <property name="endpoint" value="google.com"/>
    </bean>
</beans>
```

–¢–µ–ø–µ—Ä—å –≤ `Main.java` –¥–æ—Å—Ç–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ:

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Main {
    public static void main(String[] args) {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Spring –∏–∑ xml-—Ñ–∞–π–ª–∞
        ApplicationContext context = new ClassPathXmlApplicationContext("context.xml");
        
        // –ü–æ–ª—É—á–∞–µ–º –±–∏–Ω UserService –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        UserService userService = context.getBean("userService", UserService.class);
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–≤–∏—Å
        userService.processData();
    }
}
```

–ó–¥–µ—Å—å –º—ã –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–ª–∏ —Ç–æ–ª—å–∫–æ `ClassPathXmlApplicationContext` - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞–ª Spring

–í–º–µ—Å—Ç–æ xml-–∫–æ–Ω—Ñ–∏–≥–∞, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥-–∫–ª–∞—Å—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–∫–∏–Ω—É—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```java
@Configuration
public class AppConfig {
    // –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —ç—Ç–æ –±–∏–Ω
    @Bean
    public UserRepository userRepository() {
        return new UserRepository();
    }

    @Bean
    public UserService userService() {
        return new UserService(userRepository());
    }
}
```

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        
        UserService userService = context.getBean("userService", UserService.class);
        
        userService.processData();
    }
}
```

–≠—Ç–æ –≤—Å–µ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å —Ä—É—á–∫–∞–º–∏, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ—à–ª–∏ –∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –ø–∞–∫–µ—Ç–∞ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º. –ï—Å—Ç—å –¥–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—Ç —ç—Ç–æ–º—É:

* `@Component` - —Ç–∞–∫ –ø–æ–º–µ—á–∞–µ–º –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
* `@Autowired` - —Ç–∞–∫ –ø–æ–º–µ—á–∞–µ–º –º–µ—Ç–æ–¥ (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä), –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)

–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ:

```java
@Component
public class UserRepository {
    public String getData() {
        return "–î–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è";
    }
}
```

```java
@Component
public class UserService {
    private final UserRepository userRepository;
    
    // –£–∫–∞–∑—ã–≤–∞–µ–º, –∫—É–¥–∞ –Ω–∞–¥–æ –∑–∞—Å—É–Ω—É—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
    @Autowired
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    public void processData() {
        System.out.println("–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö: " + userRepository.getData());
    }
}
```

–î–∞–ª–µ–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å Spring –ª–∏–±–æ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞–∫–µ—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è:

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Main {
    public static void main(String[] args) {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Spring –∏–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞
        ApplicationContext context = new AnnotationConfigApplicationContext("org.example.models");
        
        UserService userService = context.getBean("userService", UserService.class);
        
        userService.processData();
    }
}
```

–ª–∏–±–æ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –∫–æ–Ω—Ñ–∏–≥–∞ (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ JavaConfig), –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞—Ç—å –ø–∞–∫–µ—Ç:

```java
@Configuration
@ComponentScan("org.example.models")  // –£–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–∫–µ—Ç –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
public class AppConfig {
}
```

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        
        UserService userService = context.getBean("userService", UserService.class);
        
        userService.processData();
    }
}
```

–í–º–µ—Å—Ç–æ `@Component` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Service`, `@Repository`, `@Controller`, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å

–ï—Å–ª–∏ –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤, —Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Primary` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —Å–∫–æ—É–ø (–∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:

```java
@Scope("prototype") 
@Scope("singleton") 
// –∏–ª–∏ 
@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)
@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)
// –Ω—É –∏ —Ç–∞–º –µ—â–µ –µ—Å—Ç—å request, session, application, websocket
```

–∏–ª–∏ –≤ xml-–∫–æ–Ω—Ñ–∏–≥–µ:

```xml
    <bean id="userService" class="org.example.models.UserService" scope="singleton"/>   
```

---

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–°–Ω–∞—á–∞–ª–∞ Spring –¥–æ—Å—Ç–∞–µ—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –µ–º—É —Å—É—â–Ω–æ—Å—Ç–∏. 

* –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ xml-—Ñ–∞–π–ª, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `XmlBeanDefinitionReader`. 
* –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤, —Ç–æ –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `AnnotationBeanDefinitionReader` –∏—â–µ—Ç –≤—Å–µ `@Configuration`, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏. –î–∞–ª–µ–µ `ClassPathBeanDefinitionScanner` —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–∞–∫–µ—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `@Component`-–∫–ª–∞—Å—Å–æ–≤

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∑–∞–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç—ã `BeanDefinition`, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –±—É–¥—É—â–∏–µ –±–∏–Ω—ã

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—Å–µ `BeanDefinition` –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ –∏–∑–º–µ–Ω–Ω—ã–º–∏, –æ–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –≤ –±–∏–Ω–∞—Ö —Å–ª—É—á–∞–π–Ω–æ –∑–∞—Ç–µ—Å–∞–ª–∞—Å—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `BeanFactoryPostProcessor`, —Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–Ω–æ–≤ –¥–æ –∏—Ö –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è. –ü—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ `BeanFactoryPostProcessor`:

```java
public class CustomBeanFactoryPostProcessor implements BeanFactoryPostProcessor {

    @Override
    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {
        // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–∏–Ω
        BeanDefinition dbConfigDef = beanFactory.getBeanDefinition("dbConfig");
        dbConfigDef.getPropertyValues().add("url", "jdbc:postgresql://default-host:5432/db");
        
        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –±–∏–Ω
        GenericBeanDefinition newBeanDef = new GenericBeanDefinition();
        newBeanDef.setBeanClassName("java.lang.String");
        newBeanDef.getConstructorArgumentValues().addGenericArgumentValue("–õ–û–õ!");
        
        ((DefaultListableBeanFactory)beanFactory).registerBeanDefinition("myBean", newBeanDef);
    }
}
```

–í—Å–µ —ç—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–Ω–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∞–ø–µ. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ `BeanFactory`

–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—É–ø–µ—Ä—Å–ª–æ–∂–Ω–æ, —Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—É –∫–ª–∞—Å—Å–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–≥–æ `FactoryBean`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```java
import org.springframework.beans.factory.FactoryBean;

// –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫–∏
public class StringFactoryBean implements FactoryBean<String> {
    private String prefix;
    private int counter = 0;

    public void setPrefix(String prefix) {
        this.prefix = prefix;
    }

    @Override
    public String getObject() {
        return prefix + "-" + (counter++);
    }

    @Override
    public Class<?> getObjectType() {
        return String.class;
    }

    @Override
    public boolean isSingleton() {
        return false;
    }
}
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏–ª–∏ —Ñ–∞–±—Ä–∏–∫—É:

```java
String str = context.getBean("customStringFactory", String.class);
        
StringFactoryBean factory = context.getBean("&customStringFactory", StringFactoryBean.class);
```

–ü–û–°–õ–ï –≠–¢–û–ì–û, –≤ —Ö–æ–¥ –≤—Å—Ç—É–ø–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `BeanPostProcessor`, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∏–∑–≤–æ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –±–∏–Ω–∞–º–∏ –ø–µ—Ä–µ–¥ –∏/–∏–ª–∏ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª–æ–∂–∏—Ç—å –≤ –ø—Ä–æ–∫—Å–∏). –ü–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ–Ω–∏–º–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –±–∏–Ω–æ–≤, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `@PostConstruct` –∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ xml –∫–∞–∫ `init-method`: `<bean id="userService" class="com.example.models.UserService" init-method="init"/>`

```java
import org.springframework.beans.BeansException;
import org.springframework.beans.factory.config.BeanPostProcessor;
import org.springframework.stereotype.Component;

@Component
public class CustomBeanPostProcessor implements BeanPostProcessor {
    
    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ü–ï–†–ï–î –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –±–∏–Ω–∞
    @Override
    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
        System.out.println("–ü—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: " + beanName);
        return bean;
    }

    // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ü–û–°–õ–ï –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–Ω–∞
    @Override
    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
        System.out.println("–ü–æ—Å—Ç–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: " + beanName);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
        if (bean instanceof ImportantService) {
            return makeProxy(bean);
        }
        return bean;
    }

    private Object makeProxy(Object bean) {
        System.out.println("–°–æ–∑–¥–∞—é –ø—Ä–æ–∫—Å–∏...");
        return bean;
    }
}
```

–¢–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤—ã–µ –±–∏–Ω—ã –∫–ª–∞–¥—É—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç

–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, —É –≤—Å–µ—Ö –±–∏–Ω–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@PreDestroy` –∏–ª–∏ `destroy-method="..."` –≤ xml

![Spring Beans](images/spring_beans.png)


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-7"></a> –õ–µ–∫—Ü–∏—è 7

### <a name="spring-mvc"></a> Spring MVC

Spring MVC ‚Äì –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Model - View - Controller (–ú–æ–¥–µ–ª—å - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∏–ª–∏ –í–∏–¥) - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü–∞—Ç—Ç–µ—Ä–Ω MVC —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞—Å–ø–µ–∫—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ª–æ–≥–∏–∫—É –≤–≤–æ–¥–∞, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ª–æ–≥–∏–∫—É UI), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–∏ —ç—Ç–æ–º —Å–≤–æ–±–æ–¥–Ω—É—é —Å–≤—è–∑—å –º–µ–∂–¥—É –Ω–∏–º–∏.

* **Model** (–ú–æ–¥–µ–ª—å) –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç (–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç) –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ —Ü–µ–ª–æ–º –æ–Ω–∏ –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ POJO (Plain Old Java Object - "–°—Ç–∞—Ä—ã–π –¥–æ–±—Ä—ã–π Java-–æ–±—ä–µ–∫—Ç", –∏–ª–∏ –±–∏–Ω–æ–≤).
* **View** (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –í–∏–¥) –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ú–æ–¥–µ–ª–∏, - –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –≥–µ–Ω–µ—Ä–∏—Ä—É—è HTML, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤–∏–¥–∏–º –≤ —Å–≤–æ—ë–º –±—Ä–∞—É–∑–µ—Ä–µ.
* **Controller** (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞—ë—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ú–æ–¥–µ–ª—å –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ—ë –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –í–∏–¥.


Spring MVC –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤–æ–∫—Ä—É–≥ —Å–µ—Ä–≤–ª–µ—Ç–∞ (–æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã) `DispatcherServlet`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥–∏–µ —à–∏—Ä–æ–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –≤–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. 

`DispatcherServlet` —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ Spring IoC, –ø–æ—ç—Ç–æ–º—É –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∏–Ω–∞–º

`DispatcherServlet`, –∏—Å—Ö–æ–¥—è –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞, –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Controller`. –ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç, –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@RequestMapping`. –í –Ω–µ–π –º–æ–∂–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç (–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é ([\*—Ç—ã–∫\*](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-requestmapping.html#mvc-ann-requestmapping-uri-templates))), –∞ —Ç–∞–∫–∂–µ –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞

```java
@Controller
@RequestMapping("/hello")
public class HelloControtter {
    @RequestMapping(method = RequestMethod.GET)
    public String printHetto(ModelMap model) {
        model.addAttribute("message", "Hello Spring MVC Framework!");
        return "hello";
    }
}
```

–ó–¥–µ—Å—å –≤–º–µ—Å—Ç–æ `@RequestMapping(method = RequestMethod.GET)` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `@GetMapping`. –¢–∞–∫–∂–µ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤: `@PostMapping`, `@PutMapping`, `@DeleteMapping`, `@PatchMapping`

–ï—â–µ –ø—Ä–∏–º–µ—Ä:

```java
@Controller
public class HelloController {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ /hello
    @GetMapping("/hello")
    public String helloForm() {
        return "hello-form"; // –í–µ—Ä–Ω–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ hello-form.html
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ /hello
    @PostMapping("/hello")
    public String sayHello(
        @RequestParam("name") String name, 
        Model model
    ) {
        // –ó–¥–µ—Å—å –º—ã –¥–æ—Å—Ç–∞–µ–º –∏–º—è –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–µ—Ä–µ–¥–∞–µ–º –µ–≥–æ –º–æ–¥–µ–ª–∏, 
        // –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å–ª–æ—é —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
        model.addAttribute("name", name.toUpperCase());
        return "hello-response"; // –®–∞–±–ª–æ–Ω –æ—Ç–≤–µ—Ç–∞
    }
}
```

–ì–æ—Ç–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `HandlerMapping` –º–æ–≥—É—Ç –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –¥–∞—Ç—å –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—Å—Ç—å:

* `RequestMappingHandlerMapping` –∏—â–µ—Ç –º–µ—Ç–æ–¥—ã –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º `@RequestMapping` –∏ –¥—Ä—É–≥–∏–º

* `BeanNameUrlHandlerMapping` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Bean` ([\*—Ç—ã–∫\*](https://www.baeldung.com/spring-handler-mappings)):

    ```java
    @Configuration
    public class BeanNameUrlHandlerMappingConfig {
        @Bean
        BeanNameUrlHandlerMapping beanNameUrlHandlerMapping() {
            return new BeanNameUrlHandlerMapping();
        }

        @Bean("/beanNameUrl")
        public WelcomeController welcome() {
            return new WelcomeController();
        }
    }
    ```

    –ò–ª–∏ –≤ xml-–∫–æ–Ω—Ñ–∏–≥–µ:

    ```xml
    <bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping" />
    <bean name="/beanNameUrl" class="org.example.WelcomeController" />
    ```

–ú–æ–∂–Ω–æ –µ—â–µ —É–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ `SimpleUrlHandlerMapping` - –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```java
@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Bean
    public SimpleUrlHandlerMapping urlHandlerMapping() {
        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();

        // –°–æ–∑–¥–∞–µ–º –º–∞–ø—É
        Map<String, Object> urlMap = new HashMap<>();
        urlMap.put("/manual", manualHandler());

        // –£–∫–∞–∑—ã–≤–∞–µ–º, –≤ –∫–∞–∫–æ–π –º–∞–ø–µ —Å–º–æ—Ç—Ä–µ—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
        mapping.setUrlMap(urlMap);

        // –£–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
        mapping.setOrder(1);

        return mapping;
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
    @Bean
    public HttpRequestHandler manualHandler() {
        return (request, response) -> {
            response.getWriter().write("Handled manually!");
        };
    }
}
```

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —á–∞—â–µ –≤—Å–µ–≥–æ –ø–∏—à–µ–º –º—ã —Å–∞–º–∏, –ø–æ—ç—Ç–æ–º—É —É –Ω–µ–≥–æ –Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Spring. –ü–æ—ç—Ç–æ–º—É —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `HandlerAdapter`. –í—ã–≥–ª—è–¥–∏—Ç –æ–Ω —Ç–∞–∫:

```java
public interface HandlerAdapter {
    boolean supports(Object handler);
    
    ModelAndView handle(
        HttpServletRequest request,
        HttpServletResponse response, 
        Object handler) throws Exception;
    
    long getLastModified(HttpServletRequest request, Object handler);
}
```

–ü–µ—Ä–µ–¥ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `supports`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handler` –∫ —Ä–∞–±–æ—Ç–µ. –î–∞–ª–µ–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `handle`, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ Spring MVC –∫–ª–∞–¥–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∏–Ω–∞–º–∏:

* `HandlerExceptionResolver` —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–¥–∞–≤–∞—Ç—å, –µ—Å–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±—Ä–æ—Å–∏–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—É—é 404 —Å—Ç—Ä–∞–Ω–∏—Ü—É)

* `ViewResolver` –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–µ—Ç –∏–º–µ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º, –≤ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–Ω—É –µ—â–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–µ–ª–∞–µ—Ç)

* `LocaleResolver` –∏ `LocaleContextResolver` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ª–æ–∫–∞–ª—å –∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å

* `ThemeResolver` –¥–æ—Å—Ç–∞–µ—Ç –∏–∑ –∫—É–∫–æ–≤, —Å–µ—Å—Å–∏–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ —Ç–µ–º—É, –∞ –∑–∞—Ç–µ–º –ø–æ –Ω–µ–π —Å—É–¥–∏—Ç, –∫–∞–∫–∏–µ –¥–∞–≤–∞—Ç—å —Å—Ç–∏–ª–∏ CSS, –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ –ø—Ä–æ—á–µ–µ

* `MultipartResolver` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Å `Content-Type: multipart/form-data`), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –≤ –ø–∞–º—è—Ç—å/–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏

* `FlashMapManager` —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–∂–¥—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º–∏)

---

–†–∞–∑–±–µ—Ä–µ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DispatcherServlet:

1. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞ `DispatcherServlet` –¥–æ–ª–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –µ–º—É `HandlerMapping` –∫–∞–∫–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É (–º–µ—Ç–æ–¥—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞) –ø–µ—Ä–µ–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –≤–∏–¥–µ `HttpServletRequest`.

2. –ü–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ `HandlerMapping` —Å–ø–∏—Å–æ–∫ `HandlerExecutionChain` (–ø–æ —Å—É—Ç–∏ —Ü–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π) –∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π `HandlerInterceptor` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∏–º–µ–Ω–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ò–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥- –∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞, –∞ —Ç–∞–∫–∂–µ –ø–æ—Å–ª–µ –æ—Ç—Å—ã–ª–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É

3. –î–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±–µ—Ä—Ç–∫–∞ –≤ –≤–∏–¥–µ `HandlerAdapter`, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, —ç—Ç–æ:

    * `HttpRequestHandlerAdapter` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö `HttpRequestHandler`

    * `SimpleControllerHandlerAdapter` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Controller` 

    * `RequestMappingHandlerAdapter` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤/–º–µ—Ç–æ–¥–æ–≤, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö `@RequestMapping`

4. –¶–µ–ø–æ—á–∫–∞ `HandlerExecutionChain` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª–Ω—è—è –º–µ—Ç–æ–¥—ã `preHandle` —É –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–æ–≤. –ï—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä –≤–µ—Ä–Ω–µ—Ç `false`, —Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–µ –¥–æ–π–¥–µ—Ç –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –¢–æ–≥–¥–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–æ–º

5. –ö–æ–≥–¥–∞ –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä—ã —Å–∫–∞–∑–∞–ª–∏ `true`, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `handle` —É `HandlerAdapter`

6. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ –∏:

    * —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `Model` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `model.addAttribute`) –∏ –≤–æ–∑—Ä–∞—â–∞–µ—Ç –∏–º—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. 
    * –ª–∏–±–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ModelAndView` —Å –∏–º–µ–Ω–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
    
    –ï—Å–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ö–æ—á–µ—Ç –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å REST API, —Ç–æ –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –Ω—É–∂–Ω–æ–µ –≤ `Model` –∏ –≤–µ—Ä–Ω–µ—Ç `null`. –ß—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å REST-–º–µ—Ç–æ–¥—ã, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `@ResponseBody` –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –∏–ª–∏ `@RestController` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤

7. –¢–µ–ø–µ—Ä—å —É –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–æ–≤ —Ü–µ–ø–æ—á–∫–∏ `HandlerExecutionChain` –≤—ã–∑—ã–≤–∞—é—Ç—Å—è `postHandle` –¥–ª—è –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏

8. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `ViewResolver` `DispatcherServlet` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏–º–µ–Ω–∏

9. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ, `DispatcherServlet` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ `Model` –≤ –≤–∏–¥–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥ `render()`, –¥–∞–ª–µ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `HttpServletResponse`, –∞ –æ—Ç–≤–µ—Ç –¥–∞–ª–µ–µ –∏–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

10. –í –∫–æ–Ω—Ü–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è `afterCompletion` —É –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–æ–≤ —Ü–µ–ø–æ—á–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è)

![a](images/spring_dispatcherservlet.jpg)

–ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `HandlerExceptionResolver` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å —Å—Ç—Ä–∞–Ω–∏—á–∫—É —Å "—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫". –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å:

* `ExceptionHandlerExceptionResolver` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏—Ö –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º `@ExceptionHandler` –º–µ—Ç–æ–¥–∞–º:

    ```java
    @ExceptionHandler(UserNotFoundException.class)  
    public ResponseEntity<String> handleUserNotFound(UserNotFoundException ex) {  
        return ResponseEntity  
                .status(HttpStatus.NOT_FOUND)  
                .body(ex.getMessage());  
    }  
    ```

* `ResponseStatusExceptionResolver` –º–æ–∂–µ—Ç –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `@ResponseStatus` –∏—Å–∫–ª—é—á–µ–Ω–∏—è:

    ```java
    @ResponseStatus(code = HttpStatus.NOT_FOUND, reason = "This user is not found")  
    public class UserNotFoundException extends RuntimeException {}  
    ```

    –ó–¥–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∂–µ—Å—Ç–∫–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ, —Ç–∞–∫–æ–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ –Ω–µ –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å JSON

    –¢–∞–∫–∂–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –∫–∏–¥–∞—Ç—å —Ç–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:

    ```java
    throw new ResponseStatusException(  
        HttpStatus.NOT_FOUND,  
        "User " + id + " not found!"  
    );  
    ```

* `DefaultHandlerExceptionResolver` —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö Spring-–∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—è –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –Ω–∏—Ö HTTP –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å GET –¥–ª—è `/user?id=abc` –ø—Ä–∏ –∏–º–µ—é—â–µ–º—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ

    ```java
    @GetMapping("/user")  
    public User getUser(@RequestParam int id) { ... } 
    ``` 

    `DispatcherServlet` –≤—ã–±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É `TypeMismatchException`, –∞ `DefaultHandlerExceptionResolver` –≤–µ—Ä–Ω–µ—Ç 

    ```
    HTTP 400 Bad Request  
    Body: "Failed to convert value of type 'java.lang.String' to required type 'int'"  
    ```

–ï—Å–ª–∏ HTTP-–∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Accept: <MIME_type>/<MIME_subtype>`, —Ç–æ `HttpMessageConverter` –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ POJO –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ –∑–∞–ø—Ä–æ—Å–µ —Ç–∏–ø–æ–º. –î–∞–ª–µ–µ `HttpMessageConverter` –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–µ–ª–∞ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ POJO, –∞ –≤ –∫–æ–Ω—Ü–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ POJO –≤ —Ç–µ–ª–∞ HTTP-–æ—Ç–≤–µ—Ç–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, Spring Boot –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–±–æ—Ä –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö `HttpMessageConverter`

![a](../images/catmeme.jpg)


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-8"></a> –õ–µ–∫—Ü–∏—è 8

### <a name="spring-boot"></a> Spring Boot 

Spring Boot - –Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –≤–Ω—É—Ç—Ä–∏ Spring, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

–ß—Ç–æ –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ Spring Boot:

* –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Spring-–º–æ–¥—É–ª–∏
* –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–µ–±-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
* –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Hibernate), –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π Spring
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã DAO
* –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∑–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

Spring Boot –∂–µ:

* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –∏ —à–∏—Ä–æ–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π –æ–ø—ã—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ Spring
* –î–µ–ª–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—è–¥ –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
* –£—Ö–æ–¥–∏—Ç –æ—Ç –∫–æ–Ω—Ñ–∏–≥–æ–º –Ω–∞ XML


–í—Å–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è:

* —Å—Ç–∞—Ä—Ç–µ—Ä–∞–º - –≥–æ—Ç–æ–≤—ã–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º c –±–∏–Ω–∞–º–∏
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
* –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É Application Server –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–≤ Spring –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Apache Tomcat)
* –≥–æ—Ç–æ–≤—ã–º —Ä–µ—Ü–µ–ø—Ç–∞–º –¥–ª—è —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ (–º–µ—Ç—Ä–∏–∫–∏, –≤–Ω–µ—à–Ω—è—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ç.–¥.)

#### <a name="%D1%81%D1%82%D0%B0%D1%80%D1%82%D0%B5%D1%80"></a> –°—Ç–∞—Ä—Ç–µ—Ä

–°—Ç–∞—Ä—Ç–µ—Ä - —ç—Ç–æ –ø–∞–∫–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–¥ –æ–¥–Ω—É –∑–∞–¥–∞—á—É –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã—Ö –∫–∞–∫ –æ–¥–∏–Ω –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–ª—è Maven –∏–ª–∏ Gradle. –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å Spring Boot, —É–ø—Ä–æ—â–∞—é—â–∞—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∏–∑–±–∞–≤–ª—è—é—â–∞—è –æ—Ç —Ä—É—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–°—Ç–∞—Ä—Ç–µ—Ä—ã –∏–∑–±–∞–≤–ª—è—é—Ç –æ—Ç —Ä—É—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫ –º–µ–∂–¥—É —Å–æ–±–æ–π. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ç–∞—Ä—Ç–µ—Ä–æ–≤:

| –°—Ç–∞—Ä—Ç–µ—Ä                         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                           |
| ------------------------------- | -------------------------------------------------------------------- |
| `spring-boot-starter-web`       | –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–≤–∫–ª—é—á–∞–µ—Ç Spring MVC, Tomcat) |
| `spring-boot-starter-data-jpa`  | –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ JPA/Hibernate                       |
| `spring-boot-starter-security`  | –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏                               |
| `spring-boot-starter-test`      | –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è JUnit, Mockito –∏ –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è       |
| `spring-boot-starter-thymeleaf` | –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω—ã Thymeleaf                 |
| `spring-boot-starter-actuator`  | –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º                             |

–í `spring-boot-starter-web` –≤—Ö–æ–¥–∏—Ç Apache Tomcat. Apache Tomcat - –∫–æ–º–ø–ª–µ–∫—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è,–æ—Ç–ª–∞–¥–∫–∏¬†–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ Java. –ï–≥–æ –æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —Å–µ—Ä–≤–ª–µ—Ç–æ–≤ - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å—à–∏—Ä—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –µ–º—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —è–∑—ã–∫–µ Java.

#### <a name="%D0%B0%D0%B2%D1%82%D0%BE%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F"></a> –ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Ç–æ—Ä–æ–π –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é¬†Spring Boot¬†—è–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ¬†starter-–ø–∞–∫–µ—Ç–∞,¬†Spring Boot¬†–ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞¬†–æ—Å–Ω–æ–≤–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤–∞–º–∏¬†jar-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä:

```java
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.EnableAutoConfiguration;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.context.annotation.Configuration;

@Configuration
@EnableAutoConfiguration
@RestController
public class Main {

    public static void main(String[] args) {
        SpringApplication.run(Main.class, args);
    }

    @GetMapping("/")
    public String hello() {
        return "Hello world!";
    }
}
```

–° –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@EnableAutoConfiguration` Spring Boot –º–æ–∂–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `spring-boot-starter-web`) —É–≥–∞–¥–∞—Ç—å, —á—Ç–æ –∏ –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å

–î—Ä—É–≥–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, `@SpringBootApplication`, –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@EnableAutoConfiguration` –∏ `@ComponentScan` (—Ç–æ –µ—Å—Ç—å –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–æ–≤)

–ï—Å–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∞ –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–µ–¥–µ–Ω–∏–π –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, Spring Boot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –±–∞–∑—É –≤ –ø–∞–º—è—Ç–∏, –±–µ–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä—É—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ H2 –∏–ª–∏ HSQL –¥—Ä–∞–π–≤–µ—Ä–æ–≤)

–í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–Ω `DataSource`, —Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–∞—Ç—Å—è.

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--debug`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–≤–µ—Å—Ç–∏ –æ—Ç—á–µ—Ç –æ–± —É—Å–ª–æ–≤–∏—è—Ö –Ω–∞ –∫–æ–Ω—Å–æ–ª—å.

–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```java
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;

@SpringBootApplication(exclude = { DataSourceAutoConfiguration })
public class Main {
}
```

#### <a name="initializr"></a> Initializr

–ß—Ç–æ–±—ã –Ω–µ —Ç—ã–∫–∞—Ç—å—Å—è –≤ xml –∏–ª–∏ gradle —Ñ–∞–π–ª–∏–∫–µ, –≥—É–≥–ª–∏—Ç—å —Å–∞–º–æ–º—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Spring Initializr ([start.spring.io](https://start.spring.io/)) - —Å–∞–π—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é Spring, Java, –ø–æ–¥–æ–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –î–∞–ª–µ–µ Spring Initializr —Å–∞–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ

#### <a name="%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0"></a> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–ú–æ–¥—É–ª—å `spring-boot-devtools` –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (auto-restart) - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–æ–≤ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ JVM).

    –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ Hot Module Reload ("–≥–æ—Ä—è—á–∞—è" –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)

    –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—â–µ–≥–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞: 
    
    * –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—É–¥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å—ã –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö jar-—Ñ–∞–π–ª–æ–≤), –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤¬†–æ—Å–Ω–æ–≤–Ω–æ–π¬†–∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤
    * –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤¬†–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—â–∏–π¬†–∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤
    * –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è,¬†–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—â–∏–π¬†–∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–ª–∞—Å—Å–æ–≤ –µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–±—ã—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≥–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º "—Ö–æ–ª–æ–¥–Ω—ã–π –∑–∞–ø—É—Å–∫"
    
* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è - –∫–µ—à —à–∞–±–ª–æ–Ω–æ–≤ (Thymeleaf, Freemarker), —Å—Ç–∞—Ç–∏–∫–∏ –∏ —Ç.–ø. –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è
* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö - –≤ stack trace –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫

–ú–æ–¥—É–ª—å `spring-boot-devtools` –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–≤–æ–π—Å—Ç–≤–µ `spring.profiles.active=prod` –∏–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ jar-—Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏


#### <a name="%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D1%8F-%D0%BF%D1%80%D0%B8-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B5"></a> –°–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

Spring Boot –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤–æ –≤—Ä–µ–º—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–∏ —Å–æ–±—ã—Ç–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –Ω—É–∂–Ω—ã–º —ç—Ç–∞–ø–∞–º —Å—Ç–∞—Ä—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–≤–æ—é –ª–æ–≥–∏–∫—É

1. `ApplicationStartingEvent`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ, –¥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤

2. `ApplicationEnvironmentPreparedEvent`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `Environment`

3. `ApplicationContextInitializedEvent`
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω, –Ω–æ –±–∏–Ω—ã –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   - –í—ã–ø–æ–ª–Ω–µ–Ω—ã `ApplicationContextInitializers`

4. `ApplicationPreparedEvent`
   - –í—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∏–Ω–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

5. `ApplicationStartedEvent`
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ–±–Ω–æ–≤–ª—ë–Ω –∏ –∑–∞–ø—É—â–µ–Ω
   - –ù–æ –µ—â—ë –Ω–µ –≤—ã–∑–≤–∞–Ω—ã `ApplicationRunner` –∏ `CommandLineRunner` (—Å—Ä–µ–¥—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏)

6. `AvailabilityChangeEvent(LivenessState.CORRECT)`
   - –û–±–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∂–∏–≤–æ–µ
   - –°–ª–µ–¥—É–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ `ApplicationStartedEvent`

7. `ApplicationReadyEvent`
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ
   - –í—Å–µ —Ä–∞–Ω–Ω–µ—Ä—ã (`ApplicationRunner`, `CommandLineRunner`) –≤—ã–∑–≤–∞–Ω—ã

8. `AvailabilityChangeEvent(ReadinessState.ACCEPTING_TRAFFIC)`
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫

9. `ApplicationFailedEvent`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ –≤–æ–∑–Ω–∏–∫–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–µ `ApplicationPreparedEvent` –∏ –¥–æ `ApplicationStartedEvent` –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã:

- `WebServerInitializedEvent`
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤.
  - –ë—ã–≤–∞–µ—Ç –¥–≤—É—Ö –≤–∏–¥–æ–≤:
    - `ServletWebServerInitializedEvent` ‚Äî –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–µ—Ä–≤–ª–µ—Ç–∞ (Tomcat, Jetty –∏ —Ç.–¥.)
    - `ReactiveWebServerInitializedEvent` ‚Äî –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Netty)

- `ContextRefreshedEvent`
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ `ApplicationContext` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ


–≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Å–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ `SpringApplicationEvent`. –û–Ω–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö –∑–∞–ø—É—Å–∫–∞


#### <a name="%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"></a> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–∞–∫–µ—Ç `spring-boot-starter-test` –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å—Ä–∞–∑—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞ –∏–º–µ–Ω–Ω–æ:

* JUnit 5 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
* Spring Test –∏ Spring Boot Test - —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É—Ç–∏–ª–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Spring Boot. –ú–æ–¥—É–ª—å `spring-boot-test` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∞ –º–æ–¥—É–ª—å `spring-boot-test-autoconfigure` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–µ—Å—Ç–æ–≤
* AssertJ - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞—Å—Å–µ—Ä—Ç–æ–≤
* Hamcrest - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤-—Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π (–º–∞—Ç—á–µ—Ä–æ–≤) 
* Mockito - –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
* JSONassert - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ JSON-–æ–±—ä–µ–∫—Ç–æ–≤
* JsonPath - XPath –¥–ª—è JSON

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Spring Boot ‚Äì —ç—Ç–æ `ApplicationContext` –¥–ª—è Spring, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ, –∫—Ä–æ–º–µ —Ç–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–ª—è –≤–∞–Ω–∏–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Spring

Spring Boot –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@SpringBootTest`, –∫–æ—Ç–æ—Ä—É—é –ø–æ —Å—É—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@ContextConfiguration`. –ï—Å–ª–∏ Spring MVC –¥–æ—Å—Ç—É–ø–µ–Ω, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ MVC.

–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Spring Boot —ç—Ç–æ –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@*Test` –≤ Spring Boot –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç –ø–æ–∏—Å–∫ –≤–∞—à–µ–π –ø–µ—Ä–≤–∏—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–∞–º–∏ —è–≤–Ω–æ. –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –ø–∞–∫–µ—Ç–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ —Ç–µ—Å—Ç, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç –∫–ª–∞—Å—Å, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `@SpringBootApplication` –∏–ª–∏ `@SpringBootConfiguration`


```java
@SpringBootTest
@AutoConfigureMockMvc
public class HelloControllerTest {

    @Autowired
    private MockMvc mockMvc;

    @Test
    public void testHelloEndpoint() throws Exception {
        mockMvc.perform(get("/hello"))
                .andExpect(status().isOk())
                .andExpect(content().string("Hello world!"));
    }
}
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @SpringBootTest –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä, –∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–µ—Ç –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–µ—á–Ω—ã—Ö –≤–µ–±-—Ç–æ—á–µ–∫ (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤).

### <a name="spring-data-jpa"></a> Spring Data JPA

Spring Data JPA —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—É—â–Ω–æ—Å—Ç—è–º —á–µ—Ä–µ–∑ JPA. –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ `application.properties` (–∏–ª–∏ `application.yml`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Spring Boot –ø–æ–¥–∫–ª—é—á–∞–µ—Ç H2:

```
spring.datasource.url=jdbc:h2:mem:db
DB_CLOSE_DELAY=-1
spring.datasource.username=sa
spring.datasource.password=sa
```

–° –Ω–∏–º–∏ –≤–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–≤–æ–∏—Ö DAO, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö EntityManager, –º–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –∫–ª–∞—Å—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —à–∞–±–ª–æ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ Spring Data JPA —Å–∞–º —Å–¥–µ–ª–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```java
public interface UserRepository extends CrudRepository<User, Long> {
}
```

–ó–¥–µ—Å—å `User` - –∫–ª–∞—Å—Å, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Entity`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `CrudRepository` –∑–∞–¥–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ). –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `PagingAndSortingRepository` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π. –î—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, `JpaRepository`, —è–≤–ª—è–µ—Ç—Å—è –∏—Ö –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º.

–ö–ª–∞—Å—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ —ç—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è JPA –∑–∞–¥–∞—é—Ç—Å—è –≤ `persistence.xml`, –Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è Spring, —Ç–∞–∫ –º–æ–∂–Ω–æ –Ω–µ –¥–µ–ª–∞—Ç—å - Spring —Å–∞–º –∏—Ö –Ω–∞–π–¥–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

–ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –ø–∏—Å–∞—Ç—å —Å–≤–æ–µ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –†–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–æ —Ç–∞–∫: Spring –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–µ—Ç–æ–¥–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π –µ–º—É –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ

–ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–∏:

| –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ                | –û–ø–∏—Å–∞–Ω–∏–µ / –ü–æ–≤–µ–¥–µ–Ω–∏–µ                   | –ü—Ä–∏–º–µ—Ä –º–µ—Ç–æ–¥–∞                             | SQL-–∞–Ω–∞–ª–æ–≥                         |
| ----------------------------- | -------------------------------------- | ----------------------------------------- | ---------------------------------- |
| `And`                         | –ò                                      | `findByUsernameAndEmail`                  | `WHERE username = ? AND email = ?` |
| `Or`                          | –ò–õ–ò                                    | `findByUsernameOrEmail`                   | `WHERE username = ? OR email = ?`  |
| `Is`, `Equals`                | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (–º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å) | `findByUsername`, `findByUsernameIs`      | `WHERE username = ?`               |
| `Between`                     | –ú–µ–∂–¥—É –¥–≤—É–º—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏                 | `findByAgeBetween(18, 30)`                | `WHERE age BETWEEN 18 AND 30`      |
| `LessThan`, `Before`          | –ú–µ–Ω—å—à–µ                                 | `findByAgeLessThan(18)`                   | `WHERE age < 18`                   |
| `GreaterThan`, `After`        | –ë–æ–ª—å—à–µ                                 | `findByAgeGreaterThan(30)`                | `WHERE age > 30`                   |
| `LessThanEqual`               | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ                       | `findByAgeLessThanEqual(18)`              | `WHERE age <= 18`                  |
| `GreaterThanEqual`            | –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ                       | `findByAgeGreaterThanEqual(30)`           | `WHERE age >= 30`                  |
| `IsNull`                      | –ó–Ω–∞—á–µ–Ω–∏–µ = NULL                        | `findByEmailIsNull()`                     | `WHERE email IS NULL`              |
| `IsNotNull`, `NotNull`        | –ó–Ω–∞—á–µ–Ω–∏–µ ‚â† NULL                        | `findByEmailIsNotNull()`                  | `WHERE email IS NOT NULL`          |
| `Like`                        | SQL LIKE –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (—Å %, \_)           | `findByEmailLike("%@gmail.com")`          | `WHERE email LIKE '%@gmail.com'`   |
| `NotLike`                     | LIKE NOT                               | `findByEmailNotLike("%test%")`            | `WHERE email NOT LIKE '%test%'`    |
| `StartingWith` / `StartsWith` | –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å                           | `findByUsernameStartingWith("A")`         | `WHERE username LIKE 'A%'`         |
| `EndingWith` / `EndsWith`     | –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞                       | `findByUsernameEndingWith("ov")`          | `WHERE username LIKE '%ov'`        |
| `Containing` / `Contains`     | –°–æ–¥–µ—Ä–∂–∏—Ç (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç `%...%`)          | `findByUsernameContaining("adm")`         | `WHERE username LIKE '%adm%'`      |
| `In`                          | –í —Å–ø–∏—Å–∫–µ                               | `findByIdIn(List<Long> ids)`              | `WHERE id IN (...)`                |
| `NotIn`                       | –ù–µ –≤ —Å–ø–∏—Å–∫–µ                            | `findByUsernameNotIn(List<String> names)` | `WHERE username NOT IN (...)`      |
| `True`, `False`               | –î–ª—è –±—É–ª–µ–≤—ã—Ö –ø–æ–ª–µ–π                      | `findByActiveTrue()`                      | `WHERE active = true`              |
| `OrderBy`                     | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞                             | `findByAgeOrderByUsernameAsc()`           | `ORDER BY username ASC`            |
| `Top`, `First`                | –õ–∏–º–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤           | `findTop3ByOrderByAgeDesc()`              | `LIMIT 3`                          |
| `ExistsBy`                    | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ              | `existsByUsername(String username)`       | `SELECT COUNT ... > 0`             |
| `CountBy`                     | –ü–æ–¥—Å—á—ë—Ç                                | `countByEmail(String email)`              | `SELECT COUNT(*) WHERE email = ?`  |

```java
// –ü–æ–∏—Å–∫ –ø–æ –æ–¥–Ω–æ–º—É –ø–æ–ª—é
Optional<User> findByUsername(String username);

// –ü–æ–∏—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º (–∏)
Optional<User> findByUsernameAndEmail(String username, String email);

// –ü–æ–∏—Å–∫ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
List<User> findByAgeGreaterThanOrderByUsernameAsc(int age);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
boolean existsByEmail(String email);

// –ü–æ–¥—Å—á—ë—Ç
long countByAgeLessThan(int age);
```

–í–º–µ—Å—Ç–æ `findBy`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–≥–æ `Optional<T>`, –º–æ–∂–µ—Ç –±—ã—Ç—å:

* `readBy` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ
* `getBy` —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç—å —Ç–æ—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
* `queryBy` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ
* `countBy` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π
* `existsBy` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –µ—Å—Ç—å

–ï—Å–ª–∏ –æ—á–µ–Ω—å —Ö–æ—á–µ—Ç—Å—è —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ —à–∞–±–ª–æ–Ω—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–æ —ç—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Query`

```java
@Query("SELECT u.username, u.email FROM User u WHERE u.age >= :minAge")
List<Object[]> findUsernamesAndEmailsByAge(@Param("minAge") int minAge);
```

–ï—Å–ª–∏ –ø—Ä—è–º –û–ß–ï–ù–¨ —Ö–æ—á–µ—Ç—Å—è, —Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ –º–µ—Ç–æ–¥—ã:

```java
public interface UserRepositoryCustom {
    List<User> findUsersWithLongUsername(int minLength);
}

@Repository
public class UserRepositoryCustomImpl implements UserRepositoryCustom {

    @PersistenceContext
    private EntityManager entityManager;

    @Override
    public List<User> findUsersWithLongUsername(int minLength) {
        return entityManager.createQuery(
                "SELECT u FROM User u WHERE LENGTH(u.username) > :minLength", User.class)
                .setParameter("minLength", minLength)
                .getResultList();
    }
}
```




## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-9"></a> –õ–µ–∫—Ü–∏—è 9

### <a name="spring-security"></a> Spring Security

**Spring Security** ‚Äì –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Spring. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç.–¥.) –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. Spring Security –≤–æ–∑–Ω–∏–∫ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ Java EE –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Servlet/EJB) –æ–∫–∞–∑–∞–ª–∏—Å—å —Å–ª–∏—à–∫–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –∏ –º–∞–ª–æ –ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–º–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á. –° –ø–æ–º–æ—â—å—é Spring Security –º–æ–∂–Ω–æ –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, –∑–∞—â–∏—Ç—É –æ—Ç CSRF, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É ¬´remember-me¬ª, —Å–µ—Å—Å–∏—é, –∞ —Ç–∞–∫–∂–µ –¥–µ—Å—è—Ç–∫–∏ –¥—Ä—É–≥–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –§—Ä–µ–π–º–≤–æ—Ä–∫ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è** —Å–æ Spring MVC/Boot –∏ –¥–∞–∂–µ —Å–∞–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞/–≤—ã—Ö–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è:

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Authentication).** –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (principal) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–±—ã—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è. Spring Security –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ñ–æ—Ä–º–æ–≤–∞—è, HTTP Basic/Digest, LDAP, JWT, OAuth2 –∏ –¥—Ä.), –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `Authentication`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

* **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Authorization).** –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è, —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å. –ü–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Spring Security —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–æ–ª–∏/–ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∑–∞—â–∏—â–∞–µ–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –∏–º–µ–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–æ–ª—å `ADMIN` –∏–ª–∏ –¥—Ä—É–≥—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ø–æ–ª–Ω–æ–º–æ—á–∏–µ.

* **–§–∏–ª—å—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security Filters).** –í–µ—Å—å –º–µ—Ö–∞–Ω–∏–∑–º Spring Security –ø–æ—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ —Ü–µ–ø–æ—á–∫–∞ Servlet-—Ñ–∏–ª—å—Ç—Ä–æ–≤. –≠—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∫–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å **–¥–æ** –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –ø—Ä–æ–≤–µ—Ä—è—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. Spring Security –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –≤ FilterChain —á–µ—Ä–µ–∑ `DelegatingFilterProxy`. –§–∏–ª—å—Ç—Ä—ã –º–æ–≥—É—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø, –µ—Å–ª–∏ –ø—Ä–∞–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

* **–ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security Context).** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–ø—Ä–∏–Ω—Ü–∏–ø–∞–ª–µ) —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ `SecurityContext`, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–º –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ—Ç–æ–∫—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –û–±—ã—á–Ω–æ Spring Security –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SecurityContextHolder` —Å `ThreadLocal` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ `Authentication` (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ –ø—Ä–∞–≤–∞—Ö). –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ –∫–æ–¥–∞ (–≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞) –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —É–∑–Ω–∞—Ç—å, –∫—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω. Spring Security —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

* **–†–æ–ª–∏ –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ (Roles and Authorities).** –í Spring Security –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ ¬´–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª–Ω–æ–º–æ—á–∏—è¬ª (`GrantedAuthority`). –†–æ–ª–∏ ‚Äì —ç—Ç–æ –ª–∏—à—å –æ—Å–æ–±—ã–π —Ç–∏–ø –ø–æ–ª–Ω–æ–º–æ—á–∏–π. –ü–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é —Ä–æ–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `ROLE_` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `ROLE_ADMIN`). –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ `hasRole("ADMIN")`, —Ç–æ Spring Security –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª–Ω–æ–º–æ—á–∏–µ `ROLE_ADMIN`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º ¬´—Ä–æ–ª—å¬ª ‚Äì —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–æ–≤—ã–π –º–∞—Ä–∫–µ—Ä (¬´ROLE\_X¬ª), –∞ —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π `GrantedAuthority` —É —Ç–µ–∫—É—â–µ–≥–æ `Authentication` —Å —Ç—Ä–µ–±—É–µ–º—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

---

Spring Security —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é —Ñ–∏–ª—å—Ç—Ä–æ–≤. –§–∏–ª—å—Ç—Ä—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø—Ä–∏—à–µ–¥—à–∏–π HTTP-–∑–∞–ø—Ä–æ—Å –∏ —Ä–µ—à–∞—é—Ç, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –µ–≥–æ –¥–∞–ª—å—à–µ –∏–ª–∏ –Ω–µ—Ç. –§–∏–ª—å—Ç—Ä—ã –æ–±—Ä–∞–∑—É—é—Ç —Ü–µ–ø–æ—á–∫—É –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π:

```java
@Configuration
@EnableWebSecurity
@EnableMethodSecurity
@RequiredArgsConstructor
public class SecurityConfig {

    @Bean
    @SneakyThrows
    public SecurityFilterChain securityFilterChain(HttpSecurity http) {
        return http
            .csrf().disable()
            .cors().disable()
            .authorizeHttpRequests(customizer -> customizer.anyRequest().authenticated())
            .httpBasic()
                .authenticationEntryPoint((request, response, authException) -> response.sendError(401))
            .and()
            .build();
    }
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã:

1. –û—Ç–∫–ª—é—á–∞–µ–º –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞—â–∏—Ç—É –æ—Ç –∞—Ç–∞–∫ CSRF (Cross-site request forgery). –ê—Ç–∞–∫–∞ CSRF —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫: –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π —Å–∞–π—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç –ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–µ—Å—Å–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫—É–∫–∏-—Ñ–∞–π–ª–∞—Ö) POST-–∑–∞–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–Ω–∫—É, –∞ –±–∞–Ω–∫ —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤–∞–ª–∏–¥–Ω—ã–º. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π —Å–∞–π—Ç –Ω–µ –≤–∏–¥–∏—Ç –∫—É–∫–∏, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ –±—Ä–∞—É–∑–µ—Ä–æ–º. Spring –∂–µ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ç–∞–∫–æ–≥–æ –≤ –∑–∞–ø—Ä–æ—Å–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–º–µ—Å—Ç–µ —Å —Å–µ—Å—Å–∏–µ–π
2. –û—Ç–∫–ª—é—á–∞–µ–º CORS (Cross-Origin Resource Sharing). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–µ—â–∞—é—Ç JavaScript-–∫–æ–¥—É –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –¥—Ä—É–≥–∏–º –¥–æ–º–µ–Ω–∞–º, –ø–æ—ç—Ç–æ–º—É —Å—É—â–µ—Å—Ç–≤—É–µ—Ç CORS: –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ –æ—Ç–ª–∏—á–∞—é—â–µ–º—É—Å—è –¥–æ–º–µ–Ω—É —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞ `Access-Control-Allow-Origin: https://example.com`. –¢–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –µ–≥–æ
3. –î–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏—Å—Ö–æ–¥–∏—Ç—å –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ò–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 401 Unauthorized –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É —Ñ–∏–ª—å—Ç—Ä–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ñ–∏–ª—å—Ç—Ä—ã —Ç–∞–∫–∏–µ:

1. `WebAsyncManagerIntegrationFilter` -–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@Async`)                                       
2. `SecurityContextPersistenceFilter` - –ó–∞–≥—Ä—É–∂–∞–µ—Ç/—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `SecurityContext` –≤ `HttpSession` (–∏–ª–∏ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é) —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –≤ `SecurityContextHolder` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞. –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω (–ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å), –æ–Ω —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π ¬´–ø—É—Å—Ç–æ–π¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–Ω–µ–µ –≤–æ—à–µ–¥—à–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ   
3. `HeaderWriterFilter` - –î–æ–±–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `X-Frame-Options`)                                         
4. `CsrfFilter` - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç CSRF-–∞—Ç–∞–∫ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)                                                            
5. `LogoutFilter` - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `/logout`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É–¥–∞–ª—è–µ—Ç—Å—è CSRF-—Ç–æ–∫–µ–Ω, –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è, —á–∏—Å—Ç–∏—Ç—Å—è `SecurityContextHolder`
6. `BasicAuthenticationFilter` - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP Basic –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è): –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ª–æ–≥–∏–Ω\–ø–∞—Ä–æ–ª—å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤ `AuthenticationManager`
    `AuthenticationManager` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º:

    ```java
    Authentication authenticate(Authentication authentication) throws AuthenticationException;

    ```
    
    –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–µ–π `Authentication` –±—É–¥–µ—Ç `UsernamePasswordAuthenticationToken`

    `AuthenticationManager` –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Authentication` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å username –∏ password) –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ –≤ –ø–æ–¥—Ö–æ–¥—è—â–∏–π `AuthenticationProvider`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å. `AuthenticationProvider` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –¥–≤–∞ –º–µ—Ç–æ–¥–∞:

    ```java
    Authentication authenticate(Authentication authentication) throws AuthenticationException;
    boolean supports(Class<?> authentication);
    ```

    –û–±—ã—á–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `ProviderManager`, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ `AuthenticationProvider`'–æ–≤.

    `AuthenticationProvider` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –æ–Ω –¥–∞–Ω–Ω—ã–π —Ç–∏–ø `Authentication` —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `supports`. –ï—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç credentials –≤ –º–µ—Ç–æ–¥–µ `authenticate` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å –∏ –ª–æ–≥–∏–Ω), –∞ –µ—Å–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `Authentication` —Å —Ñ–ª–∞–≥–æ–º `authenticated=true`.

    –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤—ã–∫–∏–Ω—É–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, `ProviderManager` –≤—ã–±—Ä–æ—Å–∏—Ç `AuthenticationManager` –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

    –î–∞–ª–µ–µ —Ñ–∏–ª—å—Ç—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π `Authentication` –≤ `SecurityContextHolder`. –ï—Å–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è `AuthenticationException` –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —Ç–æ –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω¬†–∫–æ–Ω—Ç–µ–∫—Å—Ç, –∏ –≤—ã–∑–æ–≤–µ—Ç—Å—è `AuthenticationEntryPoint`

7. `RequestCacheAwareFilter` - –ö—ç—à–∏—Ä—É–µ—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –Ω–∞ –Ω–∏—Ö –≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π url.
   2. –ï–≥–æ –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞.
   3. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ—Ç–æ—Ä—É—é –æ–Ω –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª –≤ –Ω–∞—á–∞–ª–µ.
   
8. `SecurityContextHolderAwareRequestFilter` - –î–µ–ª–∞–µ—Ç `request.isUserInRole(...)` –∏ `getUserPrincipal()` —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏                                       
9.  `AnonymousAuthenticationFilter` - –ù–∞–∑–Ω–∞—á–∞–µ—Ç "–∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω. –§–∏–ª—å—Ç—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç `SecurityContextHolder` –∞–Ω–æ–Ω–∏–º–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π  `AnonymousAuthenticationToken` —Å —Ä–æ–ª—å—é `ROLE_ANONYMOUS`. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ –≤ `SecurityContextHolder` –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç                              
10. `SessionManagementFilter` - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å–µ—Å—Å–∏–µ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å:
    1. –°–º–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å–µ—Å—Å–∏–∏
    2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
    3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `SecurityContext` –≤ `securityContextRepository`
    
    –í –æ–±—ã—á–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ: `SecurityContextRepository` —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π `HttpSessionSecurityContextRepository` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `SecurityContext` –≤ —Å–µ—Å—Å–∏—é. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `sessionAuthenticationStrategy.onAuthentication`:

    4. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤–∫–ª—é—á–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç Session Fixation Attack, —Ç–æ –µ—Å—Ç—å –ø–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–µ–Ω—è–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏.
    5. –ï—Å–ª–∏ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω CSRF-—Ç–æ–∫–µ–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–æ–≤—ã–π CSRF-—Ç–æ–∫–µ–Ω    

11. `ExceptionTranslationFilter` - –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –∏–ª–∏ –æ—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏) –∏–∑ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, `ExceptionTranslationFilter` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –µ–≥–æ –Ω–∞ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞) –∏–ª–∏ –≤–µ—Ä–Ω—ë—Ç HTTP 401/403. –≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.                                         
12.  `FilterSecurityInterceptor` - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ç—Ä–µ–±—É–µ–º—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –ø—Ä–∞–≤–∞–º–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∑–∞—â–∏—â–∞–µ–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±—É–µ–º–æ–π —Ä–æ–ª–∏) —Å –ø–æ–ª–Ω–æ–º–æ—á–∏—è–º–∏ –≤ `Authentication`. –ï—Å–ª–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –∑–∞–ø—Ä–æ—Å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É, –∏–Ω–∞—á–µ ‚Äì –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ.

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ª–∏–±–æ –æ—Ç–¥–∞–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É (–∑–∞–ø—Ä–æ—Å –±—ã–ª —Ä–∞–∑—Ä–µ—à—ë–Ω), –ª–∏–±–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ü—Ä–∏ —ç—Ç–æ–º –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ `SecurityContextPersistenceFilter` –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `SecurityContext` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤–æ—à—ë–ª) –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å–µ—Å—Å–∏—é.


–¢–∞–∫–∂–µ –µ—Å—Ç—å:

* `RememberMeAuthenticationFilter`, —á–∏—Ç–∞—é—â–∏–π –∫—É–∫–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
* `OAuth2LoginAuthenticationFilter` –¥–ª—è OAuth2-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring Security –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —á–∏—Å—Ç–æ –Ω–∞ Java (–±–µ–∑ XML). –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äì –æ–±—ä—è–≤–ª—è—Ç—å –±–∏–Ω—ã `SecurityFilterChain` –∏ `UserDetailsService` –∏–ª–∏ `WebSecurityCustomizer`. –ù–∞—á–∏–Ω–∞—è —Å Spring Security 5.7 –∫–ª–∞—Å—Å `WebSecurityConfigurerAdapter` —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º, –∏ –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SecurityFilterChain`. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```java
@Configuration
public class SecurityConfig {
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(authz -> authz.anyRequest().authenticated())
            .httpBasic(Customizer.withDefaults());
        return http.build();
    }

    @Bean
    public InMemoryUserDetailsManager userDetailsService() {
        UserDetails user = User.withDefaultPasswordEncoder()
            .username("user")
            .password("password")
            .roles("USER")
            .build();
        return new InMemoryUserDetailsManager(user);
    }
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`anyRequest().authenticated()`), –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTP Basic –¥–ª—è –≤–≤–æ–¥–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∏–º–µ–Ω–µ–º `user`, –ø–∞—Ä–æ–ª–µ–º `password` –∏ —Ä–æ–ª—å—é `USER` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –≤–Ω—É—Ç—Ä–∏ `InMemoryUserDetailsManager`. –ú–µ—Ç–æ–¥ `withDefaultPasswordEncoder()` —É–ø—Ä–æ—â–∞–µ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é (–ø–∞—Ä–æ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è), –Ω–æ **–Ω–µ** –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äì –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–ª–µ–¥—É–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.

–ü—Ä–∏ –ø–æ–¥–æ–±–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring Boot —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ñ–æ—Ä–º—É –ª–æ–≥–∏–Ω–∞/–ª–æ–≥–∞—É—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç Spring Security, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ URL –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∏ —Ç—Ä–µ–±—É—é—Ç –≤—Ö–æ–¥–∞ (–ø–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ). –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–∫–∞–∫–∏–µ URL –∑–∞—â–∏—â–∞—Ç—å, –∫–∞–∫–∏–µ ‚Äì –æ—Ç–∫—Ä—ã—Ç—ã) –º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã `authorizeHttpRequests()`, `permitAll()`, `hasRole()` –∏ —Ç.–¥. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å CSRF-–∑–∞—â–∏—Ç—É, –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–æ—á–µ–µ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `HttpSecurity`.

–ï—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Ä—É—á–Ω—É—é, Spring Boot –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞—Å—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏–º–µ–Ω–µ–º `user` –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –ù–æ –æ–±—ã—á–Ω–æ –¥–ª—è —É—á–µ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ—â–µ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–∞–∫ –≤—ã—à–µ).

---

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

* **JWT (JSON Web Tokens).** –ß–∞—Å—Ç–æ Spring Security –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ –±–µ–∑—Å–µ—Å—Å–∏–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–ª—è REST-API. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã–¥–∞—ë—Ç—Å—è JWT-—Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞. –ó–∞—Ç–µ–º –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –º–æ–∂–Ω–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º –∏–∑–≤–ª–µ–∫–∞—Ç—å JWT, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–≥–æ –ø–æ–¥–ø–∏—Å—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å `Authentication` –≤—Ä—É—á–Ω—É—é. Spring Security –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å JWT (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –º–æ–¥—É–ª–∏ `spring-security-oauth2-resource-server`).
* **OAuth2.** Spring Security –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É OAuth 2.0. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, Facebook –∏ –¥—Ä.) ‚Äì –º–µ—Ö–∞–Ω–∏–∑–º OAuth2 Client, –∞ —Ç–∞–∫–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ Resource Server (–ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥—è—â–∏–µ OAuth2-—Ç–æ–∫–µ–Ω—ã). –° –≤—ã—Ö–æ–¥–æ–º –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –¥–æ–±–∞–≤–ª–µ–Ω—ã —É–¥–æ–±–Ω—ã–µ DSL –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è OAuth2.
* **–ö–∞—Å—Ç–æ–º–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.** –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π `AuthenticationProvider` –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ 2FA, LDAP, –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º –∏ —Ç.–¥. Spring Security –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `AuthenticationManager` –∫–∞–∫ –±–∏–Ω –∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã) ‚Äì —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞.
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.** –í–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π `JdbcUserDetailsManager`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü (—Å –ø–æ–º–æ—â—å—é SQL), –∏–ª–∏ –¥–µ–ª–∞—é—Ç —Å–≤–æ–π —Å–µ—Ä–≤–∏—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π `UserDetailsService`, –∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç `UserDetails` –∏–∑ JPA-Entitiy. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `UserDetails` –≤ Spring Security —Å–ª—É–∂–∏—Ç –∫–∞–∫ —Ä–∞–∑ ¬´–∞–¥–∞–ø—Ç–µ—Ä–æ–º¬ª –º–µ–∂–¥—É –≤–∞—à–µ–π –º–æ–¥–µ–ª—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î –∏ —Ç–µ–º, —á—Ç–æ –Ω—É–∂–Ω–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤—ã –º–æ–∂–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–æ–ª—è (–∏–º—è, email, —Å—Ç–∞—Ç—É—Å –∏ —Ç.–¥.) –∏ –ø—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `loadUserByUsername`, –≤–æ–∑–≤—Ä–∞—â–∞—è –æ–±—ä–µ–∫—Ç, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç `UserDetails`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–º—è, –ø–∞—Ä–æ–ª—å –∏ —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π. Spring Security –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–∞—Ä–æ–ª—è, —É—Å—Ç–∞–Ω–æ–≤–∫–µ Authentication –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–∏—Ç–∏–∫ –¥–æ—Å—Ç—É–ø–∞.





## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-10"></a> –õ–µ–∫—Ü–∏—è 10

### <a name="spring-aop"></a> Spring AOP

–ê—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ê–û–ü) - —ç—Ç–æ –ø–∞—Ä–∞–¥–∏–≥–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —è–≤–ª—è—é—â–∞—è—Å—è –¥–∞–ª—å–Ω–µ–π—à–∏–º —Ä–∞–∑–≤–∏—Ç–∏–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –û–û–ü. –ò–¥–µ—è –ê–û–ü –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π —Å–∫–≤–æ–∑–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–í Spring AOP —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–Ω—è—Ç–∏—è:

**Join Point** - —Ç–æ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è —Å–∫–≤–æ–∑–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**Pointcut** - —Å—Ä–µ–∑, –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ –Ω–∞–±–æ—Ä —Ç–æ—á–µ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**Advice** - –¥–µ–π—Å—Ç–≤–∏–µ, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞:

* `@Before` - –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞
* `@After` –∏–ª–∏ `@AfterFinally` - –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞
* `@AfterReturning` - –µ—Å–ª–∏ –º–µ—Ç–æ–¥ —á—Ç–æ-—Ç–æ –≤–µ—Ä–Ω—É–ª
* `@AfterThrowing` - –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤—ã–±—Ä–æ—Å–∏–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
* `@Around` - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–∞–±–æ—Ç–æ–π –º–µ—Ç–æ–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞—Å–µ—á—å –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–∞)

–î–∞–ª–µ–µ –æ–Ω–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Aspect`. –ü—Ä–∏–º–µ—Ä: –∏–º–µ–µ—Ç—Å—è –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π Target). –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, —Å–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public interface Loggable {
}
```

```java
@Aspect
@Component
public class LoggingAspect {

    @Before("@annotation(Loggable)")
    public void logBefore(JoinPoint joinPoint) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("‚û° –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞: " + methodName);
    }

    @AfterReturning(pointcut = "@annotation(Loggable)", returning = "result")
    public void logAfter(JoinPoint joinPoint, Object result) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("‚úÖ –ú–µ—Ç–æ–¥ " + methodName + " –∑–∞–≤–µ—Ä—à–∏–ª—Å—è. –†–µ–∑—É–ª—å—Ç–∞—Ç: " + result);
    }

    @AfterThrowing(pointcut = "@annotation(Loggable)", throwing = "ex")
    public void logException(JoinPoint joinPoint, Throwable ex) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("‚ùå –ú–µ—Ç–æ–¥ " + methodName + " –≤—ã–±—Ä–æ—Å–∏–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: " + ex.getMessage());
    }
}
```

–ó–¥–µ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ pointcut –º—ã –æ—Ç–º–µ—á–∞–µ–º –≤—Å–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω—ã `@Loggable`. –ß—Ç–æ–±—ã –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–∫–∏, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è pointcut:


```java
@Aspect
@Component
public class LoggingAspect {
    @Pointcut("@annotation(Loggable)")
    public void loggableMethods() { }

    @Before("loggableMethods()")
    public void logBefore(JoinPoint joinPoint) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("‚û° –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞: " + methodName);
    }

    ...
}
```

–¢–æ–≥–¥–∞ –Ω–∞ —Å–∞–º –º–µ—Ç–æ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–≤–µ—Å–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```java
@Service
public class UserService {

    @Loggable
    public String getUserById(Long id) {
        if (id == null) {
            throw new IllegalArgumentException("ID –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null");
        }
        return "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å #" + id;
    }
}
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –≤ pointcut –≤—Å–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞: `@Pointcut("execution(* com.example..*(..))")`

![AOP](images/javatech_aop.jpg)


–ê–û–ü —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –æ–¥–Ω–∞–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ AspectJ –º–æ–∂–µ—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω—ã —Å –∞—Å–ø–µ–∫—Ç–∞–º–∏ –∑–∞—Ä–∞–Ω–µ–µ (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π [Weaving](https://docs.spring.io/spring-framework/reference/core/aop/using-aspectj.html#aop-aj-ltw)). AspectJ —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Java:

```java
aspect LoggingAspect {

    pointcut logMethods(): execution(* com.example..*(..));

    before(): logMethods() {
        System.out.println("–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞: " + thisJoinPoint.getSignature());
    }
}
```

–ï—Å–ª–∏ —Ü–µ–ª–µ–≤–æ–π –æ–±—ä–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ç–æ Spring AOP –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏ JDK, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ò–Ω–∞—á–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è CGLIB-–ø—Ä–æ–∫—Å–∏

---

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ AOP:

* **–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –°–∫–≤–æ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –º–Ω–æ–≥–∏–º —á–∞—Å—Ç—è–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
* **–£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–∞—Å–æ—Ä—è–µ—Ç—Å—è –∫–æ–¥–æ–º —Å–∫–≤–æ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
* **–£–ø—Ä–æ—â—ë–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Å–ø–µ–∫—Ç–∞—Ö –Ω–µ —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞.

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

* **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏**: –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –±–µ–∑ —è–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É.
* **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤**: –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AOP —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏.
* **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Å–ø–µ–∫—Ç–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏–∑–ª–∏—à–Ω–∏–º –Ω–∞–∫–ª–∞–¥–Ω—ã–º —Ä–∞—Å—Ö–æ–¥–∞–º.



## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-11"></a> –õ–µ–∫—Ü–∏—è 11

–ü–æ –º–µ—Ä–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –∫ –ø—Ä–µ–¥–µ–ª—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –æ–¥–Ω–æ–º –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–º —É–∑–ª–µ –º—ã –ø—Ä–∏—Ö–æ–¥–∏–º –∫ —Ç–æ–º—É, —á—Ç–æ –ø—Ä–æ—â–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö

–ü–æ—ç—Ç–æ–º—É –ø–æ—è–≤–∏–ª–∞—Å—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏. –ö —Ç–æ–º—É –∂–µ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º - —É–∑–ª—ã –º–æ–≥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –∞ —Å–∞–º–∏ —É–∑–ª—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –æ–¥–∏–Ω –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Java, –¥—Ä—É–≥–æ–π –Ω–∞ C#, –∞ —Ç—Ä–µ—Ç–∏–π –Ω–∞ Python

–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –∂–µ –≤ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –æ–±—â–µ–Ω–∏–µ —Å–ª–æ–µ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –∫–∞–∫ –æ–±—â–∞—Ç—å—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –∏ –∏–º–µ—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã?

–û—á–µ–≤–∏–¥–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–Ω–∏–µ–º –ø–æ —Å–µ—Ç–∏: –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç/–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –µ–º—É —Å–æ–±—ã—Ç–∏—è. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤—ã–±–æ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥—É—Ç –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Å–∏—Å—Ç–µ–º—ã.  
–ü–æ–∫–∞ —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, –æ–Ω–∏ —Å–º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –Ω–µ –∑–∞–±–æ—Ç—è—Å—å –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã. –î–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–∞–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –≠—Ç–∏ –¥–≤–µ —Å–∏—Å—Ç–µ–º—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã —ç—Ç–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

–†–∞–∑–¥–µ–ª—è—é—Ç 2 —Ç–∏–ø–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏:

* —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è - –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∏–µ–Ω—Ç –æ–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ - –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—à–ª–µ—Ç –æ—Ç–≤–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP
* –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º - –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –∂–¥—É—Ç –æ—Ç–≤–µ—Ç - —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–µ—Ä–µ–¥–∞—á–µ –≤ –æ—á–µ—Ä–µ–¥—å –ª—é–±–æ–≥–æ –±—Ä–æ–∫–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Ç–æ–∫–æ–ª AMQP (Advanced Message Queue Protocol)

–ü–æ—ç—Ç–æ–º—É –ø–æ—è–≤–∏–ª–∏—Å—å –±—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–∏–ª–∏ —Å–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏).  
–ë—Ä–æ–∫–µ—Ä—ã —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø—Ä–æ—Å–ª–æ–π–∫–æ–π –≤ –æ–±—â–µ–Ω–∏–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –≤ —ç—Ç–æ—Ç –∂–µ –º–æ–º–µ–Ω—Ç –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω—è—â–µ–π –≤—Å–µ –ø—Ä–∏—à–µ–¥—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Å–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Å–≤–æ–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –≤ –æ—Ç–ø—Ä–∞–≤–∫–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:

### <a name="point-to-point"></a> Point-to-Point

–ü–æ–¥—Ö–æ–¥ –¢–æ—á–∫–∞-–¢–æ—á–∫–∞ (–∏–ª–∏ Point-to-Point) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º. –û—á–µ—Ä–µ–¥—å –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –±—É—Ñ–µ—Ä, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –ø–æ–ª—É—á–∞—Ç–µ–ª–∏, –∞ –æ—á–µ—Ä–µ–¥—å –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–π–¥–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é

–û—á–µ—Ä–µ–¥–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–∞–¥–µ–∂–Ω—ã–º–∏ - —Ç–æ –µ—Å—Ç—å –æ—á–µ—Ä–µ–¥—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–µ –ø–æ–¥–ø–∏—à—É—Ç—Å—è –Ω–∞ –Ω–µ–µ. –¢–æ–≥–¥–∞ –ø—Ä–∏ –ø–æ—è–≤–∏–≤—à–µ–π—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º. –û—á–µ—Ä–µ–¥–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–∞—Ä–∞–Ω—Ç–∏—é, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑

–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é. –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Ä–æ–¥–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ–∂–¥—É –ø–æ–ª—É—á–µ–Ω–∏–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –µ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é 

–°–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ –æ—á–µ—Ä–µ–¥—å, –º–æ–≥—É—Ç –±—ã—Ç—å –∏–ª–∏ –Ω–µ –±—ã—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏. –û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Ç–∏–ø–∞ –¢–æ—á–∫–∞-—Ç–æ—á–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤–Ω–µ—Å–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É

### <a name="publisher-to-subscriber"></a> Publisher-to-Subscriber

–ü–æ–¥—Ö–æ–¥ –ò–∑–¥–∞—Ç–µ–ª—å-–ü–æ–¥–ø–∏—Å—á–∏–∫ (Publisher-to-Subscriber) —Å–æ—Å—Ç–æ–∏—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º: –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ —Ç–æ–ø–∏–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏–∑–¥–∞—Ç–µ–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è. –ò–∑–¥–∞—Ç–µ–ª—å —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç–æ–ø–∏–∫, –∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –∏—Ö –ø–æ–ª—É—á–∞—é—Ç. –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ —Å–≤–æ–µ–º—É –∂–µ–ª–∞–Ω–∏—é –º–æ–≥—É—Ç –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ç–æ–ø–∏–∫–∞, –Ω–æ —Ç–æ–≥–¥–∞ –¥–æ –Ω–∏—Ö –Ω–µ –¥–æ–π–¥—É—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑–¥–∞—Ç–µ–ª–µ–π

–¢–æ–ø–∏–∫–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏ - –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ—Å–ª–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–æ–ø–∏–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–∞—Ä–∞–Ω—Ç–∏—é –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.

–ò–∑–¥–∞—Ç–µ–ª—å-–ü–æ–¥–ø–∏—Å—á–∏–∫ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–æ—Å—è—Ç —á–∏—Å—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥—Ä–∞–¥—É—Å–Ω–∏–∫–∞

### <a name="%D0%B3%D0%B8%D0%B1%D1%80%D0%B8%D0%B4%D0%BD%D0%B0%D1%8F-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C"></a> –ì–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å

–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—Ç —Å–æ–≤–º–µ—â–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –ò–∑–¥–∞—Ç–µ–ª—å-–ü–æ–¥–ø–∏—Å—á–∏–∫ –∏ –¢–æ—á–∫–∞-–¢–æ—á–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–∏—Å—Ç–µ–º–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–ø–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è, –∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, —Ç–∞–∫ –∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å.

–í —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥—Ä–µ—Å–∞—Ç (–æ–±—â–∏–π —Ç–µ—Ä–º–∏–Ω –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –∏ —Ç–æ–ø–∏–∫–æ–≤), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–∫ —Ç–æ–ø–∏–∫, —Ç–∞–∫, —á—Ç–æ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—á–µ—Ä–µ–¥–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≥—Ä—É–ø–ø–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π, –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—â–∏—Ö –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å). –¢–∏–ø —á—Ç–µ–Ω–∏—è –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ - –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –≠—Ç–∏ –≥–∏–±—Ä–∏–¥–Ω—ã–µ –∞–¥—Ä–µ—Å–∞—Ç—ã —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫ —á—Ç–æ, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è, —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —ç—Ç–æ –≤—Ä–µ–º—è, –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.

–ì–∏–±—Ä–∏–¥–Ω—ã–µ –º–æ–¥–µ–ª–∏ –Ω–µ –Ω–æ–≤—ã –∏ –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–∏—Å—Ç–µ–º –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –≤–∫–ª—é—á–∞—è –∫–∞–∫ ActiveMQ (—á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∏–ª–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∞–¥—Ä–µ—Å–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç —Ç–æ–ø–∏–∫–∏ –∏ –æ—á–µ—Ä–µ–¥–∏), —Ç–∞–∫ –∏ Kafka (–Ω–µ—è–≤–Ω–æ, –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–∏–∑–∞–π–Ω–∞ –µ—ë –∞–¥—Ä–µ—Å–∞—Ç–∞).


---


–í 2004 –≥–æ–¥—É –ø–æ—è–≤–∏–ª—Å—è –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π ActiveMQ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∫–æ–¥–æ–º. ActiveMQ –±—ã–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Java Message Service (JMS).  
JMS –∂–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ –ø–æ–¥–ø–∏—Å–æ—á–Ω–æ–π –º–æ–¥–µ–ª–∏.
–í –Ω–µ–π –∏–∑–ª–æ–∂–µ–Ω—ã —á–µ—Ç–∫–∏–µ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—è–º –∫–ª–∏–µ–Ω—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –±—Ä–æ–∫–µ—Ä–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –æ–Ω –æ–±—â–∞–µ—Ç—Å—è, –æ—Ç–¥–∞–≤–∞—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É –±—Ä–æ–∫–µ—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è. 

–û—Å–Ω–æ–≤–Ω–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∞–¥—Ä–µ—Å–∞—Ç–æ–º (–æ—á–µ—Ä–µ–¥—å—é –∏–ª–∏ —Ç–æ–ø–∏–∫–æ–º) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∏–º —Å–æ–æ–±—â–µ–Ω–∏–π. –°–∞–º–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Ç–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ API —Å –±—Ä–æ–∫–µ—Ä–æ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º.

–•–æ—Ç—è API –∏ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—ã–ª–∏ —Ö–æ—Ä–æ—à–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JMS, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –±—Ä–æ–∫–µ—Ä–æ–º –±—ã–ª –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, —á—Ç–æ–±—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±—Ä–æ–∫–µ—Ä—ã –º–æ–≥–ª–∏ –±—ã—Ç—å —Å–¥–µ–ª–∞–Ω—ã JMS-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, ActiveMQ –±—ã–ª —Å–≤–æ–±–æ–¥–µ–Ω –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å–≤–æ–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –ü–æ—ç—Ç–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª OpenWire –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ActiveMQ JMS. –ü–æ–º–∏–º–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ OpenWire –±—Ä–æ–∫–µ—Ä ActiveMQ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

* AMQP (Advanced Message Queuing Protocol) - –Ω–µ –∏–º–µ–µ—Ç –ø–æ–Ω—è—Ç–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–ª–∏ –±—Ä–æ–∫–µ—Ä–æ–≤ –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ç–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ QoS (Quality-of-Service, –∫–∞—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–∞): –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞, –Ω–µ –º–µ–Ω–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –∏ —Ç–æ—á–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑

* MQTT (Message Queuing Telemetry Transport) - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏

* –Ω—É –∏ –¥—Ä—É–≥–∏–µ, —Ç–∞–∫–∏–µ –∫–∞–∫ STOMP

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–º–∏ –≤ ActiveMQ. 


---

–°–∞–º JMS –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–µ–π:

* `ConnectionFactory` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±—Ä–æ–∫–µ—Ä—É
* `Connection` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—Ä–æ–∫–µ—Ä–æ–º
* `Session` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `MessageProducer` –∏ `MessageConsumer`
* `MessageProducer` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
* `MessageConsumer` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
* –∏ —Å–∞–º `Message`

`ConnectionFactory` - —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –±—Ä–æ–∫–µ—Ä–æ–º. –í —Ç–∏–ø–∏—á–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä. –î–ª—è ActiveMQ - —ç—Ç–æ `ActiveMQConnectionFactory`. 

`Connection` - —ç—Ç–æ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π –æ–±—ä–µ–∫—Ç, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–Ω –æ–±—ã—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ –µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è. `Connection` - –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. 

`Session` - —ç—Ç–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–æ—Ç–æ–∫–∞ –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –±—Ä–æ–∫–µ—Ä–æ–º. –û–±—ä–µ–∫—Ç—ã `Session` –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—Ç–æ–∫–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. `Session` - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º–æ–∂–µ—Ç –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –æ—Ç–∫–∞—Ç–∏—Ç—å (rollback) –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –µ—Å–ª–∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ. –ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç, –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –æ–±—ä–µ–∫—Ç—ã Message, MessageConsumer –∏ MessageProducer, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∞–µ—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã) –Ω–∞ –æ–±—ä–µ–∫—Ç—ã `Topic` –∏ `Queue`.

`MessageProducer` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞—Ç—É.

`MessageConsumer` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è:

* –°–≤–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `MessageListener`, —É –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥ `onMessage(Message message)` (push-–º–æ–¥–µ–ª—å):
  
    ```java
        consumer.setMessageListener(new MessageListener() {
            @Override
            public void onMessage(Message message) {
                try {
                    if (message instanceof TextMessage) {
                        TextMessage textMsg = (TextMessage) message;
                        System.out.println("–ü–æ–ª—É—á–µ–Ω–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: " + textMsg.getText());
                    } else {
                        System.out.println("–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞: " + message);
                    }
                } catch (JMSException e) {
                    e.printStackTrace();
                }
            }
        });
    ```

* –û–ø—Ä–æ—Å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ `consumer.receive()`, `consumer.receive(long timeout)` –∏–ª–∏ `consumer.receiveNoWait()`

`Message` - —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Å–≤–æ–π—Å—Ç–≤–∞, –∞ —Ç–∞–∫–∂–µ —Å–∞–º–æ —Ç–µ–ª–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, payload)

–ó–∞–≥–æ–ª–æ–≤–∫–∏ - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π JMS –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ API, —Ç–∞–∫–∏–µ –∫–∞–∫ `JMSDestination` –∏ `JMSTimestamp`. –°–≤–æ–π—Å—Ç–≤–∞ - —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–æ–±—â–µ–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—é—Ç—Å—è –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è —Å–∞–º–æ–≥–æ —Ç–µ–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.

–ò–∑ Session –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —Ç–µ–ª–µ - –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è—é—Ç—Å—è `TextMessage` –¥–ª—è —Å—Ç—Ä–æ–∫ –∏ `BytesMessage` –¥–ª—è –¥–≤–æ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ ActiveMQ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±—Ä–æ–∫–µ—Ä—É:

1. –ò–∑–¥–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±—Ä–æ–∫–µ—Ä—É
2. –ë—Ä–æ–∫–µ—Ä –∑–∞–ø–∏—Å–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
3. –ë—Ä–æ–∫–µ—Ä –ø–æ–ª—É—á–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
4. –ë—Ä–æ–∫–µ—Ä —É–≤–µ–¥–æ–º–∏–ª (–ø—Ä–∏–º–µ–Ω—è—é—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ ack –æ—Ç acknowledge) –∏–∑–¥–∞—Ç–µ–ª—è, —á—Ç–æ –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ

–≠—Ç–æ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π JMS API - –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ, –¥–ª—è –≤–∞—Å, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–∞–∫–∂–µ –≤–∞–∂–Ω–æ, –±—ã–ª–æ –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ –±—Ä–æ–∫–µ—Ä–æ–º –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.  
–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä—è–¥ –ø—Ä–∏—á–∏–Ω, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —ç—Ç–æ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ø—Ä–µ–¥–µ–ª –ø–∞–º—è—Ç–∏. –í–º–µ—Å—Ç–æ —Å–±–æ—è, –±—Ä–æ–∫–µ—Ä –ª–∏–±–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑–¥–∞—Ç–µ–ª—è –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è –ø–∞–º—è—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Producer Flow Control), –ª–∏–±–æ –æ–Ω –∫–∏–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—é - –ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –±—Ä–æ–∫–µ—Ä–µ

–û–±—ã—á–Ω–æ, –≤ –ø—Ä–æ—Å—Ç–æ–º –±–∞–∑–æ–≤–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏, –Ω–∏–∫–æ–≥–æ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∫–∞–∫ —Ç–∞–º —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–≥–æ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é.  

–ï—Å–ª–∏ –±—Ä–æ–∫–µ—Ä –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ñ–∞–π–ª, —Ç–æ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –¥–∏—Å–∫, –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –≤ –±—É—Ñ–µ—Ä–Ω–æ–º –∫–µ—à–µ, –ø–æ—ç—Ç–æ–º—É –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –∑–∞–ø–∏—Å—å

> –ö—Å—Ç–∞—Ç–∏, –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä –∂–∞–ª—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç–µ USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å - —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ –±—ã–ª–∏ –∑–∞–ø–∏—Å–∞–Ω—ã! –ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞, –æ–Ω–∏ –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–º —É—Ä–æ–≤–Ω–µ - –∫—ç—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–∏—Å–∫–∞.

ActiveMQ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –±—É—Ñ–µ—Ä –∑–∞–ø–∏—Å–∏, –≤ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è. –ó–∞—Ç–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–∑–¥–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±—Ä–æ–∫–µ—Ä –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∞ –≤—Ä–µ–º—è, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è

---

–ö–∞–∫ –∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è?

1. –ü–æ–¥–ø–∏—Å—á–∏–∫ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±—Ä–æ–∫–µ—Ä–∞
2. –ë—Ä–æ–∫–µ—Ä —á–∏—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏
3. –ë—Ä–æ–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫—É, —á–∞—Å—Ç–æ –ø–∞—Ä—Ç–∏—è–º–∏ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
4. –ü–æ–¥–ø–∏—Å—á–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ö –≤ –±—É—Ñ–µ—Ä–µ (—á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö, –¥–∞–ª–µ–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –±—Ä–æ–∫–µ—Ä–∞, —á—Ç–æ –æ–Ω –ø—Ä–∏–Ω—è–ª —Å–æ–æ–±—â–µ–Ω–∏—è
5. –ë—Ä–æ–∫–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø–æ–¥–ø–∏—Å—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ—á–∏—Ç–∞–ª, –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —É —Å–µ–±—è, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ (–Ω—É –∏ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –µ–≥–æ)

–ë—Ä–æ–∫–µ—Ä –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, –∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∫—É—Ä—Å–æ—Ä–∞ –º–µ–∂–¥—É –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–π –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—â–µ–π —á–∞—Å—Ç—è–º–∏ –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º. –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Ä–µ–∂–∏–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –≤ —ç—Ç–æ–º –º–µ—Ö–∞–Ω–∏–∑–º–µ. –ö—É—Ä—Å–æ—Ä—ã –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, –∫–∞–∫ –∫—ç—à —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –±—Ä–æ–∫–µ—Ä–∞.

–¢–∞–∫–∂–µ –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—Ä–æ–∫–µ—Ä –º–æ–∂–µ—Ç –Ω–µ —É–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è - –≤ –∂—É—Ä–Ω–∞–ª –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –∑–∞–ø–∏—Å—å –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏. –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∂—É—Ä–Ω–∞–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ –≤ —Ñ–æ–Ω–æ–≤—ã–º –ø–æ—Ç–æ–∫–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

![–ë—Ä–æ–∫–µ—Ä](images/javatech_broker.jpg)


## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-12"></a> –õ–µ–∫—Ü–∏—è 12

### <a name="apache-kafka"></a> Apache Kafka

–û–¥–Ω–∏–º –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±—Ä–æ–∫–µ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è Apache Kafka. Kafka –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞—Å—å –≤ LinkedIn. –í 2011 –≥–æ–¥—É –∫–æ–¥ –±—ã–ª –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω, –∞ —Å 2012 –≥–æ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –≤–µ–¥–µ—Ç Apache.

–ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–æ–∫–µ—Ä –ø–æ–ª—É—á–∏–ª –≤ —á–µ—Å—Ç—å –ø–∏—Å–∞—Ç–µ–ª—è –§—Ä–∞–Ω—Ü –ö–∞—Ñ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π, –∫–∞–∫ –∏–∑–≤–µ—Å—Ç–Ω–æ, –Ω–µ –¥–æ–ø–∏—Å—ã–≤–∞–ª —Å–≤–æ–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

–ë—Ä–æ–∫–µ—Ä Kafka –æ–±–ª–∞–¥–∞–µ—Ç —Ä—è–¥–æ–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:

* –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å
* –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
* –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
* –ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
* –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)
* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
* –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å

–ë–µ–∑ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –æ–±—â–µ–Ω–∏–∏ –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏:

* –¢—è–∂–µ–ª–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –Ω—É–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
* –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –∑–Ω–∞—é—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–µ–∫–æ–≤ —Å–¥–µ–ª–∞—Ç—å —Ç—è–∂–µ–ª–æ, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—â–µ–Ω–∏—è

–ü–æ—ç—Ç–æ–º—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å–ª–æ–π–∫–∞ –≤ –≤–∏–¥–µ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

* –í—Å—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è –±—Ä–æ–∫–µ—Ä—É
* –ë—Ä–æ–∫–µ—Ä —Å–∞–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∫ —Å–µ—Ç–∏
* –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –Ω–µ –∑–Ω–∞—é—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–µ–∫–æ–≤ —Å–¥–µ–ª–∞—Ç—å –ª–µ–≥–∫–æ, —Ç–∞–∫ –∫–∞–∫ –±—Ä–æ–∫–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—â–µ–Ω–∏—è


---

–ë—Ä–æ–∫–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, —Ö—Ä–∞–Ω–∏—Ç –∏ –≤—ã–¥–∞–µ—Ç –∏—Ö. –ß—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –±–æ–ª–µ–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ–π, –±—Ä–æ–∫–µ—Ä–æ–≤ –¥–µ–ª–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏ –∏—Ö –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –≤ –∫–ª–∞—Å—Ç–µ—Ä. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

–î—Ä—É–≥–∞—è —Å—É—â–Ω–æ—Å—Ç—å, Zookeeper, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–æ–º –±—Ä–æ–∫–µ—Ä–æ–≤. Zookeeper —Å–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —É–ø–∞–ª –∫–∞–∫–æ–π-—Ç–æ —É–∑–µ–ª. Zookeeper –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ –±—Ä–æ–∫–µ—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥–∏—Ç –∑–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å. –í –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –≤ Kafka —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º Raft: –±—Ä–æ–∫–µ—Ä—ã —Å–∞–º–∏ –∑–Ω–∞—é—Ç –æ —Å–≤–æ–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–µ—à–∞—é—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –º–∞—Å—Ç–µ—Ä-—É–∑–µ–ª –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å

–°–∞–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:

* –ö–ª—é—á, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É
* –ó–Ω–∞—á–µ–Ω–∏–µ - –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
* –í—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏—è, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
* –ó–∞–≥–æ–ª–æ–≤–∫–∏ - –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏


–ü—Ä–∏ –ø—Ä–∏–µ–º–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—Ä–æ–∫–µ—Ä –∫–ª–∞–¥–µ—Ç –µ–≥–æ –≤ —Ç–æ–ø–∏–∫. –¢–æ–ø–∏–∫ —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –æ—á–µ—Ä–µ–¥—å (–ø–æ—Ç–æ–∫) —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–∞ –æ—á–µ—Ä–µ–¥—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —á–∞—Å—Ç–∏ (–ø–∞—Ä—Ç–∏—Ü–∏–∏) –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–∏ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–æ–∫–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

–°–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ —Ç–∞–∫:

```
/.../kafka-logs/
‚îú‚îÄ‚îÄ my-topic-0/          # –ü–∞—Ä—Ç–∏—Ü–∏—è 0 —Ç–æ–ø–∏–∫–∞ "my-topic"
‚îÇ   ‚îú‚îÄ‚îÄ 00000000000000000000.log   # –°–µ–≥–º–µ–Ω—Ç –ª–æ–≥–∞ (—Å–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ 00000000000000000000.index # –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ 00000000000000000000.timeindex # –ò–Ω–¥–µ–∫—Å –ø–æ –≤—Ä–µ–º–µ–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ 00000000000000012345.log   # –°–ª–µ–¥—É—é—â–∏–π —Å–µ–≥–º–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ my-topic-1/          # –ü–∞—Ä—Ç–∏—Ü–∏—è 1 —Ç–æ–ø–∏–∫–∞ "my-topic"
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ __consumer_offsets/  # –°–ª—É–∂–µ–±–Ω—ã–π —Ç–æ–ø–∏–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ñ—Ñ—Å–µ—Ç–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π
```

* `.log` ‚Äì –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ).

* `.index` ‚Äì –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –æ—Ñ—Ñ—Å–µ—Ç–∞–º (—Å–º–µ—â–µ–Ω–∏—è–º).

* `.timeindex` ‚Äì –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º.


–ï—Å–ª–∏ `.log`-—Ñ–∞–π–ª –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ —Å–∏—Å—Ç–µ–º–µ, —Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `<id –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è>.log`

–ü—Ä–∏ —ç—Ç–æ–º Kafka –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª–∏—Ç—å –Ω–µ –º–æ–∂–µ—Ç, –æ–¥–Ω–∞–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ time-to-live (–≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ), —Ç–æ–≥–¥–∞ —É–¥–∞–ª—è—é—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º —Å–µ–≥–º–µ–Ω—Ç—ã –ø–∞—Ä—Ç–∏—Ü–∏–π

---

–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –±—Ä–æ–∫–µ—Ä –ø–∞–¥–∞–µ—Ç, —Ç–æ –µ–≥–æ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –≤ —Ç–æ–ø–∏–∫–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π. –ü–æ—ç—Ç–æ–º—É –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ä–µ–ø–ª–∏—Ü–∏—Ä—É—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –±—Ä–æ–∫–µ—Ä—ã. –ö–∞–∫–∞—è-—Ç–æ –∏–∑ –ø–∞—Ä—Ç–∏—Ü–∏–π –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º, –∏ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–µ. –î–∞–ª–µ–µ –æ–Ω–∞ –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏-—Ä–µ–ø–ª–∏–∫–∏. –ï—Å–ª–∏ –±—Ä–æ–∫–µ—Ä —Å –ø–∞—Ä—Ç–∏—Ü–∏–µ–π-–ª–∏–¥–µ—Ä–æ–º –ø–∞–¥–∞–µ—Ç, —Ç–æ –¥—Ä—É–≥–∞—è –ø–∞—Ä—Ç–∏—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º

–ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –ø–∞—Ä—Ç–∏—Ü–∏–π –ø–æ –±—Ä–æ–∫–µ—Ä–∞–º. –ï—Å–ª–∏ –≤—Å–µ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –æ–∫–∞–∂—É—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –±—Ä–æ–∫–µ—Ä–µ, —Ç–æ –æ–Ω —Å—Ç–∞–Ω–µ—Ç —É–∑–∫–∏–º –≥–æ—Ä–ª—ã—à–∫–æ–º –≤ —Å–∏—Å—Ç–µ–º–µ

–û–ø—Ç–∏–º–∞–ª—å–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ —Ä–∞–≤–Ω–æ–µ —á–∏—Å–ª—É —É–∑–ª–æ–≤-–±—Ä–æ–∫–µ—Ä–æ–≤, —É–º–µ–Ω—å—à–µ–Ω–Ω–æ–º—É –Ω–∞ 1

–ü–∞—Ä—Ç–∏—Ü–∏–∏-—Ä–µ–ø–ª–∏–∫–∏ –æ–±—ã—á–Ω–æ —Å–∞–º–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ—Å—ã–ª–∞—é—Ç –∑–∞–ø—Ä–æ—Å—É –±—Ä–æ–∫–µ—Ä—É —Å –ª–∏–¥–µ—Ä—Å–∫–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–µ–π (pull-–º–æ–¥–µ–ª—å), —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –ª–∏–¥–µ—Ä —É–ø–∞–¥–µ—Ç, —Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–ø–ª–∏–∫–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø–æ–ª–Ω—ã–º–∏. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–≤–æ–¥—è—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏ (in-sync replicas), –∑–∞–ø–∏—Å—å –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ª–∏–¥–µ—Ä—Å–∫–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–µ–π (push-–º–æ–¥–µ–ª—å), —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ, –∞ —Å–∞–º–∏ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ –∫–∞–Ω–¥–∏—Ç–∞—Ç–∞–º–∏ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –ª–∏–¥–µ—Ä–∞

---

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—Ä–æ–¥—é—Å–µ—Ä –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–µ–ø–µ–Ω—å –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç–∏ –æ –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ:

* `acks = 0` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–¥—é—Å–µ—Ä –Ω–µ –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
* `acks = 1` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–¥—é—Å–µ—Ä –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ—Ç –ª–∏–¥–µ—Ä—Å–∫–æ–π —Ä–µ–ø–ª–∏–∫–∏
* `acks = -1` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–¥—é—Å–µ—Ä –∂–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –≤—Å–µ—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–ø–ª–∏–∫

–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –ø–∞—Ä—Ç–∏—Ü–∏–π –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Ç–æ–ø–∏–∫–∞. –î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø–∞—Ä—Ç–∏—Ü–∏–∏ –∏ –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –≥—Ä—É–ø–ø—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π

–ß—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–æ–ø–∏–∫ `__consumer_offsets`. –ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–º–µ–Ω–µ–º —Ç–æ–ø–∏–∫–∞, –Ω–æ–º–µ—Ä–æ–º –ø–∞—Ä—Ç–∏—Ü–∏–∏, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –∏ –Ω–æ–º–µ—Ä–æ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –¥—Ä—É–≥–∏–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏ –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –Ω–µ –ø—Ä–∏–¥—É—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

---

–ü–æ—á–µ–º—É Kafka –±—ã—Å—Ç—Ä–∞—è:

* –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å
* –ù–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è
* Zero-copy
* –û–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

Apache Kafka –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –æ–¥–Ω–∞–∫–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –≤—Å–µ –Ω—é–∞–Ω—Å—ã –∏ —Ç–æ–Ω–∫–æ—Å—Ç–∏ 





## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-13"></a> –õ–µ–∫—Ü–∏—è 13  

### <a name="%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-jms-%D0%B2-spring"></a> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JMS –≤ Spring

Spring –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å JMS, –∫–æ—Ç–æ—Ä–∞—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ JMS API

JMS —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏: –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (–æ—Ç–ø—Ä–∞–≤–∫–∞) –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (–ø–æ–ª—É—á–µ–Ω–∏–µ) —Å–æ–æ–±—â–µ–Ω–∏–π

–î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å `JmsTemplate`

–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è Spring –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—è–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π (`MessageListenerContainer`), —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. –≠—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, —Å–µ—Å—Å–∏—è–º–∏, –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏) –∏ –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤–∞—à–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Message Driven POJO (MDP), —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞—Ç–µ–ª—è –≤—ã—Å—Ç—É–ø–∞–µ—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –º–µ–∂–¥—É JMS-–±—Ä–æ–∫–µ—Ä–æ–º –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º MDP

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JMS —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –≤ –ø–∞–∫–µ—Ç–µ `org.springframework.jms.core` - –∑–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `JmsTemplate`. –ü—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±—â–∏–π –¥–ª—è —à–∞–±–ª–æ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ Spring, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö, —É–ø—Ä–æ—â–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤, —Å–∫—Ä—ã–≤–∞—é—â–∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Ç–∞–∫–∏–º–∏ –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ —Å–µ—Å—Å–∏–π)

* –ü–∞–∫–µ—Ç `org.springframework.jms.support` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `JMSException`, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â—É—é —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è JMS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ –Ω–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Spring `JmsException` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
* –ü–∞–∫–µ—Ç `org.springframework.jms.support.converter` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é `MessageConverter` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ Java –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ JMS (–∏ –æ–±—Ä–∞—Ç–Ω–æ)
* –ü–∞–∫–µ—Ç `org.springframework.jms.support.destination` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ `DestinationResolver` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞–º–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è JMS
* –ü–∞–∫–µ—Ç `org.springframework.jms.annotation` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@JmsListener`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —É–∫–∞–∑–∞—Ç—å –º–µ—Ç–æ–¥—ã-–ø–æ–ª—É—á–∞—Ç–µ–ª–∏ MDP
* –ü–∞–∫–µ—Ç `org.springframework.jms.config` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π

---

–ö–ª—é—á–µ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è `ConnectionFactory`. –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, ActiveMQ, RabbitMQ —Å –ø–ª–∞–≥–∏–Ω–æ–º JMS) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JMS –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –º–µ—Ç–æ–¥–æ–≤ –æ—Ç–ø—Ä–∞–≤–∫–∏, –æ–¥–∏–Ω –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ–∂–∏–º –¥–æ—Å—Ç–∞–≤–∫–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, –∞ –¥—Ä—É–≥–æ–π –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∏—á–µ–≥–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ú–µ—Ç–æ–¥ `JmsTemplate.setReceiveTimeout` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç

–°–∞–º –∂–µ `JmsTemplate` –æ–±—ä—è–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, `JmsTemplate` —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –∫–∞–∫ –æ–±—â—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞

–®–∞–±–ª–æ–Ω—É JmsTemplate –Ω—É–∂–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è QoS (Quality of Service). JMS API –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –º–µ—Ç–æ–¥–æ–≤ –æ—Ç–ø—Ä–∞–≤–∫–∏: –æ–¥–∏–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —è–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã QoS ‚Äî —Ä–µ–∂–∏–º –¥–æ—Å—Ç–∞–≤–∫–∏ (`deliveryMode`: persistent/non-persistent), –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (`priority`) –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏—è (`timeToLive`). –î—Ä—É–≥–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `JmsTemplate` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`deliveryMode=PERSISTENT`, `priority=4`, `timeToLive=0` - —Ç–æ –µ—Å—Ç—å –≤–µ—á–Ω–æ). –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è QoS –¥–ª—è –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫ —á–µ—Ä–µ–∑ –¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `JmsTemplate` (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `setDeliveryMode()`, `setPriority()`, `setTimeToLive()`), –Ω—É–∂–Ω–æ —è–≤–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Ñ–ª–∞–≥ `setExplicitQosEnabled(true)` - –∏–Ω–∞—á–µ —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è, –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—Ä–æ–∫–µ—Ä–∞/—Å–µ—Å—Å–∏–∏

–° –ø–æ–º–æ—â—å—é `ConnectionFactory` —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ `Connection`, –∑–∞—Ç–µ–º –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è `Session` (–∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –∏–ª–∏ –Ω–µ—Ç, —Ä–µ–∂–∏–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è). –í —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è `MessageProducer` (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏) –∏–ª–∏ `MessageConsumer` (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è)

–ß—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —ç—Ç—É –¥–ª–∏–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É, Spring –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `ConnectionFactory`: 

* `SingleConnectionFactory` —Å–æ–∑–¥–∞–µ—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ `Connection` –ø—Ä–∏ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–∞—Ö (—Ç–æ –µ—Å—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è). –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
* `CachingConnectionFactory` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `Session`, `MessageProducer` –∏ `MessageConsumer`. –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 1, –µ–≥–æ –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –≤ —Å–≤–æ–π—Å—Ç–≤–µ `sessionCacheSize`. –°–µ—Å—Å–∏–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —Ä–µ–∂–∏–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Å–µ—Å—Å–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 1

`JmsTemplate` –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∞–¥—Ä–µ—Å–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–∫–æ—Ç–æ—Ä–æ–µ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Å—Ç—Ä–æ–∫–∞) –≤ –æ–±—ä–µ–∫—Ç `javax.jms.Destination` –æ–±—ä–µ–∫—Ç—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `DestinationResolver`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `DynamicDestinationResolver`, –Ω–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π. –î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ –∞–¥—Ä–µ—Å–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∏–∑–≤–µ—Å—Ç–Ω—ã –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –ø–æ—ç—Ç–æ–º—É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ê–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤ —Å–≤–æ–π—Å—Ç–≤–µ `defaultDestination` (–∏–ª–∏ `defaultDestinationName` –¥–ª—è —Å—Ç—Ä–æ–∫–∏) —É `JmsTemplate`. –¢–æ–≥–¥–∞ –º–µ—Ç–æ–¥—ã `send()` –∏ `receive()` –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ


–í–∞–∂–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `JmsTemplate` - `pubSubDomain` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`). –ï—Å–ª–∏ `true`, —Ç–æ –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ –≤ `Destination` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Ç–æ–ø–∏–∫, –∞ –Ω–µ –æ—á–µ—Ä–µ–¥—å. –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–æ–π –º–æ–¥–µ–ª–∏ (–¢–æ—á–∫–∞-–¢–æ—á–∫–∞ –∏–ª–∏ –ò–∑–¥–∞—Ç–µ–ª—å-–ü–æ–¥–ø–∏—Å—á–∏–∫) –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏/–ø–æ–ª—É—á–µ–Ω–∏—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–∞–µ–º—ã—Ö –∞–¥—Ä–µ—Å–æ–≤


–ß—Ç–æ–±—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –±—Ä–æ–∫–µ—Ä–∞, –Ω—É–∂–Ω–æ:  
1. –°–æ–∑–¥–∞—Ç—å MDP ‚Äî POJO —Å –º–µ—Ç–æ–¥–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ `javax.jms.Message` –∏–ª–∏ —É–∂–µ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –±–ª–∞–≥–æ–¥–∞—Ä—è `MessageConverter`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç MDP –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π. –ù–∞—á–∏–Ω–∞—è —Å Spring Framework 4.1, –º–µ—Ç–æ–¥—ã MDP —É–¥–æ–±–Ω–æ –ø–æ–º–µ—á–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@JmsListener` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@JmsListener(destination = "myQueue")`). –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `@EnableJms` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ JMS-—Ä–µ—Å—É—Ä—Å–∞–º–∏ (`Connection`, `Session`, `MessageConsumer`), –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ MDP

–í JMS –µ—Å—Ç—å –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

* `SimpleMessageListenerContainer` —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –ø—Ä–æ—Å—Ç—ã–º - –æ–Ω —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–∫—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ JMS-—Å–µ—Å—Å–∏–π –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:  
    * `Session.AUTO_ACKNOWLEDGE` (–ø–æ —É–º–æ–ª—á.): –°–æ–æ–±—â–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è (ack) –ø–æ—Å–ª–µ *—É—Å–ø–µ—à–Ω–æ–≥–æ* –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ MDP
    * `Session.CLIENT_ACKNOWLEDGE`: –ö–ª–∏–µ–Ω—Ç (–≤–∞—à MDP) –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –≤—ã–∑–≤–∞—Ç—å `message.acknowledge()` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ–π –≥—Ä—É–ø–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–≥–æ)
    * `Session.DUPS_OK_ACKNOWLEDGE`: "–õ–µ–Ω–∏–≤–æ–µ" –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ; –±—Ä–æ–∫–µ—Ä –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∏—Ç—Å—è. –≠–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã, –¥–æ–ø—É—Å–∫–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã
    * `Session.SESSION_TRANSACTED`: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—É—é JMS-—Å–µ—Å—Å–∏—é. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —á–∞—Å—Ç—å—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (commit) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ MDP, –æ—Ç–∫–∞—Ç (rollback) ‚Äî –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ (–ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—Ä–æ–∫–µ—Ä–æ–º)

    –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–∫–∞–∫ JTA)

* `DefaultMessageListenerContainer` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ö–∞–∂–¥–æ–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ XA-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (extended architecture), –µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç `JtaTransactionManager`. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞—Ç–µ–ª—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –Ω–∏–∑–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ JMS-–ø–æ—Å—Ç–∞–≤—â–∏–∫—É, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é —Å–æ —Å—Ä–µ–¥–∞–º–∏ Java EE 


–í—Å–µ –º–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ (`send()`, `convertAndSend()`) –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª–∏–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç `Destination`, –ª–∏–±–æ —Å—Ç—Ä–æ–∫—É —Å –∏–º–µ–Ω–µ–º –∞–¥—Ä–µ—Å–∞ (–∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ `DestinationResolver`), –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–î–∞–ª–µ–µ –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ `MessageConverter`. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `SimpleMessageConverter` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É `String` –∏ `TextMessage`, `byte[]` –∏ `BytesMessage`, –∞ —Ç–∞–∫–∂–µ `java.util.Map` –∏ `MapMessage`. –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π `MessageConverter` –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ JSON/XML)

–ü–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `MessagePostProcessor`. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `message.setStringProperty("MyHeader", "Value")`). –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –º–µ—Ç–æ–¥—ã `convertAndSend(..., MessagePostProcessor postProcessor)`


–§–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (`JmsListenerContainerFactory`), –æ–±—ã—á–Ω–æ `DefaultJmsListenerContainerFactory`, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring (–±–∏–Ω—ã `ConnectionFactory`, `MessageConverter`, `DestinationResolver`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π `TransactionManager`, `concurrency`, `cacheLevel` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Ç.–¥.)

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@JmsListener` –Ω–∞ –º–µ—Ç–æ–¥–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç—É —Ñ–∞–±—Ä–∏–∫—É —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `containerFactory` (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –∏–º–µ–Ω–µ–º `jmsListenerContainerFactory`)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ (`concurrency`) —á–∞—Å—Ç–æ –≤—ã–Ω–æ—Å—è—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω—é—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `application.properties`): `spring.jms.listener.concurrency=3-10`, –≥–¥–µ 3 - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤, 10 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ




## <a name="%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-14"></a> –õ–µ–∫—Ü–∏—è 14

<!-- Java - 30 –ª–µ—Ç! -->

> –≠—Ç–∞ –ª–µ–∫—Ü–∏—è –±—ã–ª–∞ –ø–µ—Ä–µ—Å–∫–∞–∑–æ–º –¥–æ–∫–ª–∞–¥–∞ –í–∞–¥–∏–º–∞ –õ—É–∑–∏–∫–∞ "–ñ–∏–∑–Ω—å –±–µ–∑ Spring –Ω–∞ Kotlin". –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–¥–µ—Å—å: [https://cdn.tbank.ru/static/meetups/talks/24ef1ef4-c17a-4734-a54d-907828dcfb7d.pdf](https://cdn.tbank.ru/static/meetups/talks/24ef1ef4-c17a-4734-a54d-907828dcfb7d.pdf)

Spring - —ç—Ç–æ –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –Ω–æ –∏–º–µ–Ω–Ω–æ –µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –¥–µ–ª–∞–µ—Ç –µ–≥–æ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º. –û–Ω —Ç—è–Ω–µ—Ç –∑–∞ —Å–æ–±–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –î–∞–∂–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏—à—å –º–∞–ª–∞—è —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —ç—Ç–æ —á–∞—Å—Ç—å —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –∏ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏–∑-–∑–∞ —Å–≤–æ–µ–π –º–∞—Å—à—Ç–∞–±–Ω–æ—Å—Ç–∏ Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞—á–∞—Å—Ç—É—é –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ CPU, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤ —É—Å–ª–æ–≤–∏—è—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ç–∞–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Ç–æ–∂–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç. –í —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏, Spring –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ 3-5 —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π –≤—ã—à–µ.

–ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä—É—Ç–∞—è. –ù–æ–≤–∏—á–∫–∞–º –±–µ–∑ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å–æ Spring –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ—Å–≤–æ–∏—Ç—å —Ç–∞–∫–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –∫–∞–∫ IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –±–∏–Ω—ã, –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, AOP –∏ —Ç.–¥. –î–∞–∂–µ –ø—Ä–æ—Å—Ç–æ–π REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏–∑-–∑–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ —Å–∫—Ä—ã—Ç–æ–π –º–∞–≥–∏–∏.

–ï—Å—Ç—å –ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã? –î–∞, –∏ –∏—Ö –Ω–µ–º–∞–ª–æ. –í–æ—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ Spring, –≤–∫–ª—é—á–∞—è –∫–∞–∫ Java-, —Ç–∞–∫ –∏ Kotlin-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏:

* [Micronaut](https://github.com/micronaut-projects/) –Ω–∞ Java
* [Quarkus](https://github.com/quarkusio/quarkus) –Ω–∞ Java
* [Helidon](https://github.com/helidon-io/helidon) –Ω–∞ Java
* [Vert.x](https://github.com/eclipse-vertx/vert.x) –Ω–∞ Java
* [Play Framework](https://github.com/playframework/playframework) –Ω–∞ Scala
* [Ktor](https://github.com/ktorio/ktor) –Ω–∞ Kotlin
* [Http4k](https://github.com/http4k/http4k) –Ω–∞ Kotlin

Spring Boot –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∞–º—ã–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–º, –Ω–æ —ç—Ç–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å - –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–∞. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã - –≤ —Ç–æ–º —á–∏—Å–ª–µ Ktor - –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –∏–Ω–æ–π –ø–æ–¥—Ö–æ–¥: –º–µ–Ω—å—à–µ –º–∞–≥–∏–∏, –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –ª—ë–≥–∫–æ—Å—Ç—å –≤ —Å—Ç–∞—Ä—Ç–µ

Ktor - —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –æ—Ç JetBrains, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Kotlin. –≠—Ç–æ –¥–∞—ë—Ç –µ–º—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:

* –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kotlin: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ—Ä—É—Ç–∏–Ω, —Ö–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —É–¥–æ–±–Ω—ã–π DSL
* –ú–∏–Ω–∏–º—É–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∏–∑ –∫–æ—Ä–æ–±–∫–∏ - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
* –ê–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞: JetBrains –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É Ktor –ø—Ä—è–º–æ –≤ IntelliJ IDEA, –∞ —Ç–∞–∫–∂–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç —ç–∫–æ—Å–∏—Å—Ç–µ–º—É

–ï—Å–ª–∏ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, Ktor - –¥–æ—Å—Ç–æ–π–Ω—ã–π –≤—ã–±–æ—Ä.

---

–ö–∞–∫ –∂–µ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Ktor?

1. –°–æ–∑–¥–∞—ë–º "hello-world" –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Ktor
2. –ü–æ–¥–∫–ª—é—á–∞–µ–º –ª—ë–≥–∫–æ–≤–µ—Å–Ω—ã–π DI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Koin)
3. –î–æ–±–∞–≤–ª—è–µ–º MongoDB –∫–∞–∫ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
4. –ò—Å–ø–æ–ª—å–∑—É–µ–º Apache Kafka –∫–∞–∫ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
5. –ò—Å–ø–æ–ª—å–∑—É–µ–º Ktor HttpClient –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API-–∑–∞–ø—Ä–æ—Å–æ–≤
6. –ü—Ä–∏–º–µ–Ω—è–µ–º Netty –∫–∞–∫ web-—Å–µ—Ä–≤–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–î–ª—è DI –Ω–∞ Kotlin –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

* Koin - —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π. –õ—ë–≥–∫–∏–π, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–∞—Ç–∏–≤–Ω—ã–π –¥–ª—è Kotlin, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
* Kodein - —Ç–∞–∫–∂–µ Kotlin-first, –Ω–æ –º–µ–Ω–µ–µ –ø–æ–ø—É–ª—è—Ä–µ–Ω
* Guice –∏ Dagger - Java-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –æ–Ω–∏ –º–µ–Ω–µ–µ —É–¥–æ–±–Ω—ã –≤ Kotlin-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

–í—ã–±–∏—Ä–∞–µ–º Koin, –ø–æ—Ç–æ–º—É —á—Ç–æ:

* –û–Ω –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Kotlin.
* –û–Ω –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Ktor
* –£ –Ω–µ–≥–æ –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ Spring (`@Single`, `@Factory`, `@Inject`)
* –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `application.yml` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫. Ktor –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –≤—ã—Ç–∞—Å–∫–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å–æ Spring

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è MongoDB Kotlin Driver. –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API. –°—Ç—Ä–æ–∏–º —Å–ª–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤—Ä—É—á–Ω—É—é, –±–µ–∑ Spring Data, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ —É—Å–∏–ª–∏–π, –Ω–æ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

–ß—Ç–æ–±—ã —Å –Ω–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—â–∞—Ç—å—Å—è, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Kafka. Ktor –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Kafka, –ø–æ—ç—Ç–æ–º—É –≤—Å—ë –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Kafka-–∫–ª–∏–µ–Ω—Ç—ã

–î–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–∏–º API –∏—Å–ø–æ–ª—å–∑—É–µ–º Ktor HttpClient. –û–Ω —Ç–æ–∂–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∫–æ—Ä—É—Ç–∏–Ω–∞—Ö, –ª–µ–≥–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è

---

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Ktor —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –Ω–∞ Spring:

| –ú–µ—Ç—Ä–∏–∫–∞           | Ktor                      | Spring Boot             |
| ----------------- | ------------------------- | ----------------------- |
| –í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞      | 0.6 —Å–µ–∫                   | 2.49 —Å–µ–∫                |
| –†–∞–∑–º–µ—Ä `.jar`     | 36.5 –ú–ë                   | 49.9 –ú–ë                 |
| –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JMeter | –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ | –í—ã—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ |

–≠—Ç–æ –≤–∞–∂–Ω–æ: —Ä–∞–∑–Ω–∏—Ü–∞ –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–æ—Å—Ç–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–∞ –ø–æ–¥ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π. –ü—Ä–∏ –ª—ë–≥–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –≤—Å—ë –ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ. –ù–æ –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ - Ktor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–µ–±—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ

---

–í—ã–≤–æ–¥—ã:

* –ñ–∏–∑–Ω—å –≤–Ω–µ Spring –≤–æ–∑–º–æ–∂–Ω–∞. –ü–∏—Å–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –±–æ–ª—å—à–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –Ω–µ—Å–ª–æ–∂–Ω–æ, —Ö–æ—Ç—å –∏ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —É—Å–∏–ª–∏–π
* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Ktor –∏ –¥—Ä—É–≥–∏—Ö –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
* –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, Spring –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ-—Ñ–∞–∫—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –≤ –º–∏—Ä–µ Java-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–≥—Ä–æ–º–Ω–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É, –±–æ–≥–∞—Ç–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤



## <a name="x.-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0-%D1%8D%D0%BA%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0-2024%2F2025"></a> X. –ü—Ä–æ–≥—Ä–∞–º–º–∞ —ç–∫–∑–∞–º–µ–Ω–∞ 2024/2025

1. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –∫–æ–¥–∞? –ö–∞–∫–æ–≤—ã –æ—Ç–ª–∏—á–∏—è –æ—Ç –Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —è–∑—ã–∫–æ–≤?

    –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (—Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞), –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ

    | –ö—Ä–∏—Ç–µ—Ä–∏–π         | –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥ (Java)                     | –ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥ (C/C++)         |
    |----------------------|-----------------------------------------------|---------------------------------------|
    | **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (—Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞)              | –†—É—á–Ω–æ–µ (`new`/`delete`, `malloc`/`free`). |
    | **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**     | –ü–µ—Å–æ—á–Ω–∏—Ü–∞: –∑–∞–ø—Ä–µ—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π      | –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ (—É—è–∑–≤–∏–º–æ—Å—Ç–∏) |
    | **–ü–ª–∞—Ç—Ñ–æ—Ä–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** | –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π (–±–∞–π—Ç-–∫–æ–¥)             | –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É |
    | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ –∏–∑-–∑–∞ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤   | –í—ã—à–µ (–ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∂–µ–ª–µ–∑—É)        |
    | **–ü—Ä–∏–º–µ—Ä—ã**          | JVM (Java), CLR (.NET)                      | –ù–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–û–°, –¥—Ä–∞–π–≤–µ—Ä—ã)   |

2. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —è–∑—ã–∫–∞? –û—Ç–ª–∏—á–∏—è –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∏–∑–¥–∞–Ω–∏—è–º–∏ Java. –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞–±–æ—Ä–∞ API —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–∑–¥–∞–Ω–∏–π.

    –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è - —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —è–∑—ã–∫–∞ (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Å–µ–º–∞–Ω—Ç–∏–∫–∞, JVM) –∫–æ–º–∏—Ç–µ—Ç–æ–º Java Community Process (JCP)

    **–ò–∑–¥–∞–Ω–∏—è Java:**

    | **–ò–∑–¥–∞–Ω–∏–µ** | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                     | **–ü—Ä–∏–º–µ—Ä API**                          |
    |-------------|-----------------------------------|----------------------------------------|
    | **Java SE** | –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.               | `java.lang`, `java.util`, `java.io`.   |
    | **Java EE** | –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–µ–±, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã). | `javax.servlet`, `EJB`, `JPA`. |
    | **Java ME** | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (IoT, –º–æ–±–∏–ª—å–Ω—ã–µ). | `MicroProfile`, `CLDC`.          |

3. –ò–µ—Ä–∞—Ä—Ö–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Stream API.

    **–ò–µ—Ä–∞—Ä—Ö–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:**
    
    ![–ö–æ–ª–ª–µ–∫—Ü–∏–∏](./images/javatech_collections.png)

    **Map** –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç `Collection`, –Ω–æ –≤—Ö–æ–¥–∏—Ç –≤ Collections Framework:
    - `HashMap`, `TreeMap`, `LinkedHashMap`.

    **Stream API:**
    –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
    ```java
    List<String> names = users.stream()
        .filter(u -> u.getAge() > 18)
        .map(User::getName)
        .sorted()
        .collect(Collectors.toList());
    ```
    - **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** `filter`, `map`, `sorted`.
    - **–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ:** `collect`, `forEach`, `count`.

4. –°–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–æ–∫, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏. –ü–æ–Ω—è—Ç–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω–≤–µ–Ω—Ü–∏–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø–∞–∫–µ—Ç–æ–≤.

    **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º —Å–±–æ—Ä–∫–∏:**
    –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –∫–æ–º–ø–∏–ª—è—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ø–∞–∫–æ–≤–∫–∞ –≤ JAR/WAR.

    | **–°–∏—Å—Ç–µ–º–∞**       | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                              | **–ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**              |
    |-------------------|---------------------------------------------|--------------------------------------|
    | **Apache Ant**    | XML-—Å–∫—Ä–∏–ø—Ç—ã, –≥–∏–±–∫–æ—Å—Ç—å.                      | –ù–µ—Ç —Å—Ç—Ä–æ–≥–∏—Ö –ø—Ä–∞–≤–∏–ª.                  |
    | **Apache Maven**  | –ö–æ–Ω–≤–µ–Ω—Ü–∏—è > –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∞—Ä—Ö–µ—Ç–∏–ø—ã.         | `src/main/java`, `src/test/resources`. |
    | **Gradle**        | DSL –Ω–∞ Groovy/Kotlin, –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Maven, –Ω–æ –≥–∏–±—á–µ.        |

    **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:**
    - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ –º–æ–¥—É–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é Java Platform Module System (JPMS) –≤ Java 9+).
    - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–µ–∫–ª–∞—Ä–∏—Ä—É—é—Ç—Å—è –≤ `pom.xml` (Maven) –∏–ª–∏ `build.gradle` (Gradle).

5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ—Ç—á–∏—Å—Ç–∫–∏.

    **–ó–∞–¥–∞—á–∏ GC:**
    - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã).
    - –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏.

    **–ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:**
    - **Reference Counting:** –ü–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏).
    - **Tracing:** –ü–æ–∏—Å–∫ –¥–æ—Å—Ç–∏–∂–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ GC Roots (–ø–æ—Ç–æ–∫–∏, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è).

    **–ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ—á–∏—Å—Ç–∫–∏:**
    | **–ê–ª–≥–æ—Ä–∏—Ç–º**       | **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**                          | **–ü–ª—é—Å—ã**                             | **–ú–∏–Ω—É—Å—ã**                |
    |--------------------|--------------------------------------------|---------------------------------------|---------------------------|
    | **Mark-Sweep**     | –ü–æ–º–µ—Ç–∏—Ç—å –∂–∏–≤–æ–µ ‚Üí —É–¥–∞–ª–∏—Ç—å –Ω–µ–∂–∏–≤–æ–µ.           | –ü—Ä–æ—Å—Ç–æ—Ç–∞.                             | –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞–º—è—Ç–∏.      |
    | **Mark-Compact**   | Mark-Sweep + –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è.               | –ù–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏.                     | –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.        |
    | **Copying**        | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –Ω–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å. | –ë—ã—Å—Ç—Ä–æ –¥–ª—è young-gen.                 | –¢—Ä–µ–±—É–µ—Ç 2x –ø–∞–º—è—Ç–∏.        |
    | **Generational**   | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ young/old –ø–æ–∫–æ–ª–µ–Ω–∏—è.         | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ö–∞—Ä–∞–∫—Ç–µ—Ä –æ–±—ä–µ–∫—Ç–æ–≤.    | –°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.       |

6. –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏—è—Ö. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫—É—á–∏. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã.

    **–ü—Ä–∏–Ω—Ü–∏–ø:**
    –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ "—É–º–∏—Ä–∞—é—Ç –º–æ–ª–æ–¥—ã–º–∏" (weak generational hypothesis)

    **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫—É—á–∏:**
    * –ú–ª–∞–¥—à–µ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ (Young Generation), —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑ Eden (–Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã) –∏ Survivor Space (S0, S1 - –≤—ã–∂–∏–≤—à–∏–µ –ø–æ—Å–ª–µ –º–∏–Ω–æ—Ä–Ω–æ–π —Å–±–æ—Ä–∫–∏)
    * –°—Ç–∞—Ä—à–µ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ (Old Generation) –∏–∑ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    

    **–ü—Ä–æ—Ü–µ—Å—Å:**
    1. **Minor GC:** –û—á–∏—Å—Ç–∫–∞ Young Gen (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ Eden ‚Üí Survivor)
    2. **Major/Full GC:** –û—á–∏—Å—Ç–∫–∞ Old Gen (–∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–≤–∏—Å–∏—Ç –æ—Ç GC: G1, CMS, ZGC)

7. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ Java EE –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JPA.

    **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
    - **JDBC:** –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.
    - **JPA (Java Persistence API):** ORM-—Å—Ç–∞–Ω–¥–∞—Ä—Ç (–º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã).
    - **JTA (Java Transaction API):** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

    **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ JPA:**
    - **Hibernate:** –°–∞–º–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è, —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.
    - **EclipseLink:** –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JPA.
    - **Apache OpenJPA.**

    **–ü—Ä–∏–º–µ—Ä JPA-—Å—É—â–Ω–æ—Å—Ç–∏:**
    ```java
    @Entity
    @Table(name = "users")
    public class User {
        @Id
        @GeneratedValue
        private Long id;
        private String name;
    }
    ```


8. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CDI –≤ Spring. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ò–Ω–≤–µ—Ä—Å–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è.

    **IoC (Inversion of Control):**
    –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞.

    **DI (Dependency Injection):**
    –°–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ IoC: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—É –∏–∑–≤–Ω–µ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Å–µ—Ç—Ç–µ—Ä—ã, –ø–æ–ª—è).

    **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Spring:**
    - **–ë–∏–Ω—ã:** –û–±—ä–µ–∫—Ç—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º (`@Component`, `@Service`).
    - **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ:** `@Autowired`, `@Inject`.
    - **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –ß–µ—Ä–µ–∑ XML, JavaConfig (`@Configuration`), –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (`@ComponentScan`).

    **–ü—Ä–∏–º–µ—Ä:**
    ```java
    @Service
    public class UserService {
        private final UserRepository repository;

        @Autowired // DI —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
        public UserService(UserRepository repository) {
            this.repository = repository;
        }
    }
    ```


9.  –ß—Ç–æ —Ç–∞–∫–æ–µ ¬´—Å–µ—Ä–≤–ª–µ—Ç¬ª? –û—Ç–ª–∏—á–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å–µ—Ä–≤–ª–µ—Ç–æ–≤.

    –°–µ—Ä–≤–ª–µ—Ç - Java-–∫–ª–∞—Å—Å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π HTTP-–∑–∞–ø—Ä–æ—Å—ã (—Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `javax.servlet.Servlet`).

    **–û—Ç–ª–∏—á–∏—è:**
    | **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–µ—Ä–≤–ª–µ—Ç–æ–≤**     | **–°–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**          |
    |-----------------------------|--------------------------------|
    | –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP (Tomcat, Jetty). | –ü–æ–ª–Ω–∞—è Java EE-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (WildFly, GlassFish). |
    | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–ª–µ—Ç–æ–≤/JSP. | + EJB, JMS, JTA, CDI.        |
    | –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π.                | –¢—è–∂–µ–ª—ã–π, —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤. |

10. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ä–∞–º–∫–∞—Ö DispatcherServlet –≤ Spring.

    –≠—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞:
    1. **–ó–∞–ø—Ä–æ—Å –ø—Ä–∏—Ö–æ–¥–∏—Ç** –Ω–∞ `DispatcherServlet`.
    2. **–ü–æ–∏—Å–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:** `HandlerMapping` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π `Controller` –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–ø—Ä–æ—Å.
    3. **–í—ã–∑–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:** `HandlerAdapter` –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
    4. **–û–±—Ä–∞–±–æ—Ç–∫–∞:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è + –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö.
    5. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥:** `ViewResolver` –≤—ã–±–∏—Ä–∞–µ—Ç —à–∞–±–ª–æ–Ω (JSP, Thymeleaf).
    6. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞:** `View` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML/JSON.
    7. **–û—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.**

11. –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞–µ–º—ã–µ —Å –ø–æ–º–æ—â—å—é Spring Boot. –° –ø–æ–º–æ—â—å—é –∫–∞–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç?

    Spring Boot —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

    * **–°—Ç–∞—Ä—Ç–µ—Ä—ã** - –≥–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `spring-boot-starter-web`)
    * **–ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∏–Ω–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ classpath
    * **Actuator** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
    * **Embedded Server** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä Tomcat/Jetty
    * **Spring Initializr** - GUI-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤

12. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–∏–ø–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

    - **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è (—á–µ—Ä–µ–∑ `AuthenticationManager`).
    - **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (`@PreAuthorize`, `hasRole()`).

    **–ú–µ—Ö–∞–Ω–∏–∑–º—ã:**
    - **Form Login:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è HTML-—Ñ–æ—Ä–º–∞.
    - **HTTP Basic:** –ó–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Basic`.
    - **JWT/OAuth2:** –î–ª—è REST API.
    - **–§–∏–ª—å—Ç—Ä—ã:** –¶–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (`BasicAuthenticationFilter`, `FilterSecurityInterceptor`).

    **–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
    ```java
    @Configuration
    @EnableWebSecurity
    public class SecurityConfig {
        @Bean
        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
            http
                .authorizeRequests(auth -> auth
                    .antMatchers("/admin").hasRole("ADMIN")
                    .anyRequest().authenticated()
                )
                .formLogin();
            return http.build();
        }
    }
    ```


13. –ü–∞—Ä–∞–¥–∏–≥–º–∞ –∞—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –û—Ç–ª–∏—á–∏—è –æ—Ç –û–û–ü.

    | **–ö—Ä–∏—Ç–µ—Ä–∏–π**       | **–û–û–ü**                                  | **–ê–û–ü**                                  |
    |--------------------|------------------------------------------|------------------------------------------|
    | **–ü–∞—Ä–∞–¥–∏–≥–º–∞**      | –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º. | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–∫–≤–æ–∑–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.    |
    | **–†–µ—à–∞–µ–º–∞—è –∑–∞–¥–∞—á–∞**| –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.        | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.  |
    | **–ï–¥–∏–Ω–∏—Ü–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏** | –ö–ª–∞—Å—Å.                                | –ê—Å–ø–µ–∫—Ç (—Å–æ–≤–µ—Ç + —Å—Ä–µ–∑).                   |
    | **–ü—Ä–∏–º–µ—Ä –≤ Spring**| `@Service`, `@Repository`.              | `@Transactional`, `@Secured`.            |

    **–ê–û–ü –≤ Spring:**
    ```java
    @Aspect
    @Component
    public class LoggingAspect {
        @Before("execution(* com.example.service.*.*(..))")
        public void logMethodCall(JoinPoint jp) {
            System.out.println("–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞: " + jp.getSignature());
        }
    }
    ```

14. –ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

    **–ü—Ä–æ–±–ª–µ–º—ã –º–æ–Ω–æ–ª–∏—Ç–∞:**
    - –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.
    - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å.

    **–ü—Ä–∏–Ω—Ü–∏–ø—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**
    - –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É.
    - –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
    - –°–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å (—á–µ—Ä–µ–∑ API).

    **–°–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**
    - **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ:** HTTP/REST, gRPC (–∫–ª–∏–µ–Ω—Ç –∂–¥–µ—Ç –æ—Ç–≤–µ—Ç).
    - **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ:** –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka, RabbitMQ).


15. –ö–∞–∫–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—é—Ç –±—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π? –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≤–∞–º –º–æ–¥–µ–ª–∏ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã.

    **–ó–∞–¥–∞—á–∏:**
    - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è.
    - –ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏.
    - –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.

    **–ú–æ–¥–µ–ª–∏:**
    - **Point-to-Point:** –û—á–µ—Ä–µ–¥–∏ (1 —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí 1 –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å).
    - **Pub/Sub:** –¢–æ–ø–∏–∫–∏ (1 —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí N –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤).
    - **–ì–∏–±—Ä–∏–¥–Ω–∞—è:** –ö–æ–º–±–∏–Ω–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Kafka).

    **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã:**
    - **JMS:** Java-—Å—Ç–∞–Ω–¥–∞—Ä—Ç (ActiveMQ).
    - **AMQP:** –ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–π (RabbitMQ).
    - **MQTT:** –î–ª—è IoT.
    - **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ:** Kafka Protocol.


16. –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è Apache Kafka –æ—Ç RabbitMQ. –ü–∞—Ç—Ç–µ—Ä–Ω Outbox.

    | **–ö—Ä–∏—Ç–µ—Ä–∏–π**         | **Apache Kafka**                            | **RabbitMQ**                        |
    |----------------------|---------------------------------------------|-------------------------------------|
    | **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**      | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π log-–±—Ä–æ–∫–µ—Ä.                  | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –±—Ä–æ–∫–µ—Ä (–æ—á–µ—Ä–µ–¥–∏).      |
    | **–ú–æ–¥–µ–ª—å**           | Pub/Sub —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏.              | P2P, Pub/Sub.                       |
    | **–°–∫–æ—Ä–æ—Å—Ç—å**         | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (–º–∏–ª–ª–∏–æ–Ω—ã —Å–æ–æ–±—â./—Å–µ–∫).        | –í—ã—Å–æ–∫–∞—è (—Ç—ã—Å—è—á–∏ —Å–æ–æ–±—â./—Å–µ–∫).        |
    | **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**       | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ + —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è.            | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏/–Ω–∞ –¥–∏—Å–∫.        |
    | **–ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏**| At-least-once, Exactly-once (Kafka 0.11+). | At-most-once, At-least-once.        |
    | **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**    | –°—Ç—Ä–∏–º–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. | –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á). |

    **–ü–∞—Ç—Ç–µ—Ä–Ω Outbox:**
    –°–ø–æ—Å–æ–± –Ω–∞–¥–µ–∂–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:
    1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ –ë–î (–≤ —Ç–∞–±–ª–∏—Ü—É `outbox`) –≤ —Ç–æ–π –∂–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
    2. –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑ `outbox` –≤ –±—Ä–æ–∫–µ—Ä (Kafka/RabbitMQ).
    3. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞.


